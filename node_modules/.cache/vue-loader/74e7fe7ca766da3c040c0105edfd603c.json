{"remainingRequest":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/nws_alerts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/nws_alerts.vue","mtime":1682360357866},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js","mtime":1682365544304},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1682365544513}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IFJpcEN1cnJlbnRNb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvcmlwX2N1cnJlbnRfbW9kYWwiOwogIGltcG9ydCBOV1NGb3JlY2FzdEJsb2NrIGZyb20gIkAvY29tcG9uZW50cy9ud3NfZm9yZWNhc3RfYmxvY2siOwogIGltcG9ydCBUaWRlQ2hhcnRCbG9jayBmcm9tICJAL2NvbXBvbmVudHMvdGlkZV9wcmVkaWN0aW9uIjsKICBpbXBvcnQgVVZJbmRleE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy91dl9pbmRleF9tb2RhbCI7CiAgaW1wb3J0IE5XU0FwaSBmcm9tICJAL3V0aWxpdGllcy9ud3NfcmVzdF9hcGkiOwogIGltcG9ydCBEYXRhQVBJIGZyb20gIkAvdXRpbGl0aWVzL3Jlc3RfYXBpIjsKICBpbXBvcnQgbndzX2FsZXJ0IGZyb20gIkAvdXRpbGl0aWVzL253c19jbGFzc2VzIjsKICBpbXBvcnQge2NvbXBhc3NfYXJyYXl9IGZyb20gIkAvdXRpbGl0aWVzL2RpcmVjdGlvbl90b19jb21wYXNzIjsKCiAgaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnTldTQWxlcnRzUGFnZScsCiAgICAgIHByb3BzOiB7CiAgICAgICAgJ2xvbmdpdHVkZSc6IHt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IHVuZGVmaW5lZH0sCiAgICAgICAgJ2xhdGl0dWRlJzoge3R5cGU6IE51bWJlciwgZGVmYXVsdDogdW5kZWZpbmVkfSwKICAgICAgICAncG9zdF9jb2RlJzoge3R5cGU6IFN0cmluZywgZGVmYXVsdDogdW5kZWZpbmVkfQogICAgICB9LAogICAgY29tcG9uZW50czogewogICAgICBSaXBDdXJyZW50TW9kYWwsCiAgICAgIE5XU0ZvcmVjYXN0QmxvY2ssCiAgICAgIFRpZGVDaGFydEJsb2NrLAogICAgICBVVkluZGV4TW9kYWwKICAgIH0sCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHJpcF9jdXJyZW50X2FsZXJ0OiAiRGF0YSBVbmF2YWlsYWJsZSIsCiAgICAgICAgcmlwX2N1cnJlbnRfbndzX2V2ZW50OiAnJywKICAgICAgICByaXBfY3VycmVudF9kZXRhaWxzOiAiTm8gY3VycmVudCBhbGVydHMiLAogICAgICAgIG53c19yaXBfY3VycmVudF9ldmVudDogIiIsCiAgICAgICAgc2hvd19yaXBfY3VycmVudF9tb2RhbDogZmFsc2UsCiAgICAgICAgcmlwX2N1cnJlbnRfcmVjb3JkOiB1bmRlZmluZWQsCiAgICAgICAgbndzX2FsZXJ0czogW10sCiAgICAgICAgZm9yZWNhc3RfcmVjb3JkOiB1bmRlZmluZWQsCiAgICAgICAgcG9pbnRfaW5mb3JtYXRpb246IHVuZGVmaW5lZCwKICAgICAgICBjbG9zZXRfb2JzX3N0YXRpb246IHVuZGVmaW5lZCwKICAgICAgICBsYXRlc3Rfb2JzX2RhdGE6IHVuZGVmaW5lZCwKICAgICAgICBzaG93X3V2X2luZGV4X21vZGFsOiBmYWxzZSwKICAgICAgICB1dl9pbmRleF9kYXRhOiB1bmRlZmluZWQsCiAgICAgICAgY3VycmVudF91dl9pbmRleDogdW5kZWZpbmVkLAogICAgICAgIGN1cnJlbnRfdXZfaW5kZXhfcmF0aW5nOiAnRGF0YSBVbmF2YWlsYWJsZScsCiAgICAgICAgY3VycmVudF91dl9jb2xvcl9jbGFzczogJycsCiAgICAgICAgdGlkZV9zdGF0aW9uOiB1bmRlZmluZWQsCiAgICAgICAgdGlkZV9jaGFydF9kYXRhOiB1bmRlZmluZWQKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgIHRoaXMucmlwX2N1cnJlbnRfcmVjb3JkID0gbmV3IG53c19hbGVydCgpOwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGNvbnNvbGUuZGVidWcoIk5XU0FsZXJ0c1BhZ2UgbW91bnRlZC4iKTsKICAgICAgLyoKICAgICAgV2UgZG8gdGhlIHBvaW50IHF1ZXJ5IHRvIGdldCB0aGUgbGlua3MgZm9yIHRoZSBmb3JlY2FzdCBhbmQgb2JzZXJ2YXRpb24gbGlua3MgZm9yIHRoZSBncmlkLgogICAgICAqLwogICAgICBOV1NBcGkuR2V0TldTUG9pbnRJbmZvcm1hdGlvbih0aGlzLmxhdGl0dWRlLCB0aGlzLmxvbmdpdHVkZSkudGhlbihwb2ludF9pbmZvID0+IHsKICAgICAgICBpZihwb2ludF9pbmZvICE9IHVuZGVmaW5lZCkKICAgICAgICB7CiAgICAgICAgICB2bS5wb2ludF9pbmZvcm1hdGlvbiA9IHBvaW50X2luZm8KICAgICAgICAgIE5XU0FwaS5HZXRPYnNlcnZpbmdTdGF0aW9uc2ZvckdyaWQodm0ucG9pbnRfaW5mb3JtYXRpb24ub2JzZXJ2YXRpb25TdGF0aW9ucykudGhlbihzdGF0aW9uX2xpc3QgPT4gewogICAgICAgICAgICB2bS5jbG9zZXRfb2JzX3N0YXRpb24gPSBzdGF0aW9uX2xpc3QuZmVhdHVyZXNbMF07CiAgICAgICAgICAgIE5XU0FwaS5HZXROV1NTdGF0aW9uTGF0ZXN0T2JzZXJ2YXRpb25zKHtzdGF0aW9uX2NvZGU6IHZtLmNsb3NldF9vYnNfc3RhdGlvbi5wcm9wZXJ0aWVzLnN0YXRpb25JZGVudGlmaWVyfSkKICAgICAgICAgICAgICAgIC50aGVuKG9ic19kYXRhID0+IHsKICAgICAgICAgICAgICAgICAgdm0ubGF0ZXN0X29ic19kYXRhID0gb2JzX2RhdGE7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB2bS5mb3JlY2FzdF9yZWNvcmQgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIE5XU0FwaS5HZXROV1NGb3JlY2FzdCh7dXJsOnZtLnBvaW50X2luZm9ybWF0aW9uLmZvcmVjYXN0fSkudGhlbihmb3JlY2FzdCA9PiB7CiAgICAgICAgICAgICAgaWYoZm9yZWNhc3QgIT0gdW5kZWZpbmVkKQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmKCdwcm9wZXJ0aWVzJyBpbiBmb3JlY2FzdCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgdm0uZm9yZWNhc3RfcmVjb3JkID0gZm9yZWNhc3QucHJvcGVydGllczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICBpZiAoJ3N0YXR1cycgaW4gZm9yZWNhc3QpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJTdGF0dXM6ICIgKyBmb3JlY2FzdC5zdGF0dXMgKyAiICIgKyBmb3JlY2FzdC5kZXRhaWwpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byByZXRyaWV2ZSB0aGUgZm9yZWNhc3QsIG5vIGRhdGEgcGF5bG9hZCBvciBlcnJvciBwYXlsb2FkLiIpOwoKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3I9PiB7CiAgICAgICAgICAgICAgdm0uZm9yZWNhc3RfcmVjb3JkID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIGxldCBlcnJvcl9tZXNzYWdlID0gJyc7CiAgICAgICAgICAgICAgbGV0IHN0YXR1c19jb2RlID0gNDA0OwogICAgICAgICAgICAgIGlmICgncmVzcG9uc2UnIGluIGVycm9yICYmIGVycm9yLnJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHN0YXR1c19jb2RlID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgaWYgKCdlcnJvcicgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICBpZiAoJ21lc3NhZ2UnIGluIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvci5tZXNzYWdlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlN0YXR1cyBjb2RlOiAiICsgc3RhdHVzX2NvZGUgKyAiLiBFcnJvciBNc2c6ICIgKyBlcnJvcl9tZXNzYWdlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcigiR2V0TldTUG9pbnRJbmZvcm1hdGlvbiByZXR1cm5lZCB1bmRlZmluZWQuIikKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBsZXQgZXJyb3JfbWVzc2FnZSA9ICcnOwogICAgICAgIGxldCBzdGF0dXNfY29kZSA9IDQwNDsKICAgICAgICBpZigncmVzcG9uc2UnIGluIGVycm9yICYmIGVycm9yLnJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHN0YXR1c19jb2RlID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgaWYgKCdlcnJvcicgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICBpZiAoJ21lc3NhZ2UnIGluIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpIHsKICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvci5tZXNzYWdlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlN0YXR1cyBjb2RlOiAiICsgc3RhdHVzX2NvZGUgKyIuIEVycm9yIE1zZzogIiArIGVycm9yX21lc3NhZ2UpOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8qCiAgICAgIE5XU0FwaS5HZXROV1Nab25lcyh7bG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSwgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGV9KS50aGVuKCh6b25lX2RhdGEpPT57CiAgICAgICAgem9uZV9kYXRhOwogICAgICAgIHZtOwogICAgICB9KTsKICAgICAgKi8KICAgICAgLy97bG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSwgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGUsIGV2ZW50OiAnUmlwIEN1cnJlbnQgU3RhdGVtZW50J30KICAgICAgTldTQXBpLkdldE5XU0FjdGl2ZUFsZXJ0cyh7bG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSwgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGV9KS50aGVuKGFsZXJ0cyA9PiB7CiAgICAgICAgdm0ucmlwX2N1cnJlbnRfYWxlcnQgPQogICAgICAgIHZtLnN1cmZfYWxlcnQgPSAnTm8gQWxlcnRzJzsKICAgICAgICB2bS5yaXBfY3VycmVudF9kZXRhaWxzID0KICAgICAgICB2bS5zdXJmX2FsZXJ0X2RldGFpbHMgPSAiTm8gY3VycmVudCBhbGVydHMiOwoKICAgICAgICBsZXQgcmlwX2N1cnJlbnRfZm91bmQgPSBmYWxzZTsKICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYWxlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBsZXQgZmVhdHVyZSA9IGFsZXJ0c1tpXTsKICAgICAgICAgIGxldCBhbGVydCA9IG5ldyBud3NfYWxlcnQoKTsKICAgICAgICAgIGFsZXJ0LnBhcnNlX2FwaV9yZXNwb25zZShmZWF0dXJlKTsKICAgICAgICAgICB2bS5ud3NfYWxlcnRzW2ZlYXR1cmUucHJvcGVydGllcy5ldmVudF0gPSBhbGVydDsKICAgICAgICAgICBpZihmZWF0dXJlLnByb3BlcnRpZXMuZXZlbnQgPT0gJ1JpcCBDdXJyZW50IFN0YXRlbWVudCcpCiAgICAgICAgICAgewogICAgICAgICAgICAgLy92bS5yaXBfY3VycmVudF9yZWNvcmQucGFyc2VfYXBpX3Jlc3BvbnNlKGZlYXR1cmUpOwogICAgICAgICAgICAgdm0ucmlwX2N1cnJlbnRfYWxlcnQgPSAnUmlwIEN1cnJlbnRzIFByZXNlbnQnCiAgICAgICAgICAgICB2bS5yaXBfY3VycmVudF9yZWNvcmQgPSBmZWF0dXJlOwogICAgICAgICAgICAgdm0ucmlwX2N1cnJlbnRfbndzX2V2ZW50ID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmV2ZW50OwogICAgICAgICAgICAgdm0ucmlwX2N1cnJlbnRfZGV0YWlscyA9IGZlYXR1cmUucHJvcGVydGllcy5kZXNjcmlwdGlvbjsKICAgICAgICAgICAgIHJpcF9jdXJyZW50X2ZvdW5kID0gdHJ1ZQogICAgICAgICAgIH0KICAgICAgICAgICBlbHNlIGlmKGZlYXR1cmUucHJvcGVydGllcy5ldmVudC5zZWFyY2goL3N1cmYvaSkpCiAgICAgICAgICB7CiAgICAgICAgICAgIHZtLnN1cmZfYWxlcnQgPSBmZWF0dXJlLnByb3BlcnRpZXMuZXZlbnQ7CiAgICAgICAgICAgIHZtLnN1cmZfYWxlcnRfZGV0YWlscyA9IGZlYXR1cmUucHJvcGVydGllcy5kZXNjcmlwdGlvbjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoIXJpcF9jdXJyZW50X2ZvdW5kKQogICAgICAgIHsKICAgICAgICAgIHZtLnJpcF9jdXJyZW50X2FsZXJ0ID0gIk5vIEFsZXJ0cyIKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdm0ucmlwX2N1cnJlbnRfYWxlcnQgPQogICAgICAgIHZtLnN1cmZfYWxlcnQgPSAnRGF0YSBVbmF2YWlsYWJsZSc7CiAgICAgICAgdm0ucmlwX2N1cnJlbnRfZGV0YWlscyA9CiAgICAgICAgdm0uc3VyZl9hbGVydF9kZXRhaWxzID0gJyc7CiAgICAgICAgRGF0YUFQSS5lcnJvcl9oYW5kbGVyKCdHZXROV1NBY3RpdmVBbGVydHMnLCBlcnJvcik7CiAgICAgIH0pOwogICAgICBOV1NBcGkuRVBBR2V0VVZJbmRleCh7cG9zdF9jb2RlOiB0aGlzLnBvc3RfY29kZX0pLnRoZW4odXZfaW5kZXggPT4gewogICAgICAgIHZtLnV2X2luZGV4X2RhdGEgPSB1dl9pbmRleDsKICAgICAgICB2bS5maW5kX3V2X2luZGV4KCk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB2bS51dl9pbmRleF9kYXRhID0gdW5kZWZpbmVkOwogICAgICAgIERhdGFBUEkuZXJyb3JfaGFuZGxlcignRVBBR2V0VVZJbmRleCcsIGVycm9yKTsKICAgICAgfSk7CiAgICAgIE5XU0FwaS5OT0FBRmluZFRpZGVTdGF0aW9uKHRoaXMubGF0aXR1ZGUsIHRoaXMubG9uZ2l0dWRlLCAyMCkudGhlbih0aWRlX3N0YXRpb25zID0+IHsKICAgICAgICB0aGlzLnRpZGVfc3RhdGlvbiA9IHVuZGVmaW5lZDsKICAgICAgICAvL1dlIGxvb3AgdGhlIHJlc3VsdHMgbG9va2luZyBmb3IgdGhlIGNsb3Nlc3QgaGFybW9uaWMgc3RhdGlvbi4KICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGlkZV9zdGF0aW9ucy5zdGF0aW9uTGlzdC5sZW5ndGg7IGkrPTEpCiAgICAgICAgewogICAgICAgICAgLy9UaGUgUiBzdGF0aW9ucyBhcmUgaGFybW9uaWMgc3RhdGlvbnMgd2hpY2ggd2lsbCBoYXZlIHRoZSBwcmVkaWN0aW9ucy4KICAgICAgICAgIGlmKHRpZGVfc3RhdGlvbnMuc3RhdGlvbkxpc3RbaV0uc3RhdGlvblR5cGUgPT0gJ1InKQogICAgICAgICAgewogICAgICAgICAgICB2bS50aWRlX3N0YXRpb24gPSB0aWRlX3N0YXRpb25zLnN0YXRpb25MaXN0W2ldOwogICAgICAgICAgICBicmVhawogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZih0aGlzLnRpZGVfc3RhdGlvbiAhPSB1bmRlZmluZWQpCiAgICAgICAgewogICAgICAgICAgTldTQXBpLk5PQUFUaWRlUXVlcnkoJ3RvZGF5JywKICAgICAgICAgICAgICB2bS50aWRlX3N0YXRpb24uc3RhdGlvbklkLAogICAgICAgICAgICAgICdwcmVkaWN0aW9ucycsCiAgICAgICAgICAgICAgJ1NUTkQnLAogICAgICAgICAgICAgICdsc3RfbGR0JywKICAgICAgICAgICAgICAnaGlsbycsCiAgICAgICAgICAgICAgJ2VuZ2xpc2gnKS50aGVuKHRpZGVfY2hhcnRfZGF0YSA9PiB7CiAgICAgICAgICAgICAgICB2bS50aWRlX2NoYXJ0X2RhdGEgPSB0aWRlX2NoYXJ0X2RhdGE7CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHZtLnRpZGVfc3RhdGlvbiA9ICcnOwogICAgICAgIHZtLnRpZGVfY2hhcnRfZGF0YSA9IHVuZGVmaW5lZDsKICAgICAgICBEYXRhQVBJLmVycm9yX2hhbmRsZXIoJ05PQUFGaW5kVGlkZVN0YXRpb24nLCBlcnJvcik7CgogICAgICB9KQogICAgICBjb25zb2xlLmRlYnVnKCJOV1NBbGVydHNQYWdlIG1vdW50ZWQgZmluaXNoZWQuIik7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICB0ZXh0X2NvbG9yOiBmdW5jdGlvbihhbGVydF9tZXNzYWdlKSB7CiAgICAgICAgbGV0IHRleHRfY29sb3IgPSAnbm9fYWxlcnQnOwogICAgICAgIGlmKGFsZXJ0X21lc3NhZ2UubWF0Y2goL3dhcm5pbmcvaSkpCiAgICAgICAgewogICAgICAgICAgdGV4dF9jb2xvciA9ICd3YXJuaW5nJzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihhbGVydF9tZXNzYWdlLm1hdGNoKC9hZHZpc29yeS9pKSkKICAgICAgICB7CiAgICAgICAgICB0ZXh0X2NvbG9yID0gJ2Fkdmlzb3J5JzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihhbGVydF9tZXNzYWdlLm1hdGNoKC93YXRjaC9pKSkKICAgICAgICB7CiAgICAgICAgICB0ZXh0X2NvbG9yID0gJ3dhdGNoJzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihhbGVydF9tZXNzYWdlLm1hdGNoKC9zdGF0ZW1lbnQvaSkpCiAgICAgICAgewogICAgICAgICAgdGV4dF9jb2xvciA9ICd3YXJuaW5nJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRleHRfY29sb3I7CiAgICAgIH0sCiAgICAgIGZvcmVjYXN0X3BlcmlvZDogZnVuY3Rpb24ocGVyaW9kX251bWJlcikgewogICAgICAgIGlmKHRoaXMuZm9yZWNhc3RfcmVjb3JkICE9IHVuZGVmaW5lZCkKICAgICAgICB7CiAgICAgICAgICBpZihwZXJpb2RfbnVtYmVyIDwgdGhpcy5mb3JlY2FzdF9yZWNvcmQucGVyaW9kcy5sZW5ndGgpCiAgICAgICAgICB7CiAgICAgICAgICAgIHJldHVybih0aGlzLmZvcmVjYXN0X3JlY29yZC5wZXJpb2RzW3BlcmlvZF9udW1iZXJdKTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJQZXJpb2QgbnVtYmVyIHJlcXVlc3Q6ICIgKyBwZXJpb2RfbnVtYmVyICsgIiBvdXRzaWRlIHJhbmdlLiIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4odW5kZWZpbmVkKTsKICAgICAgfSwKICAgICAgZmluZF91dl9pbmRleDogZnVuY3Rpb24oKSB7CiAgICAgICAgbGV0IHV2X2luZGV4ID0gLTE7CiAgICAgICAgdGhpcy5jdXJyZW50X3V2X2luZGV4ID0gLTE7CiAgICAgICAgdGhpcy5jdXJyZW50X3V2X2luZGV4X3JhdGluZyA9ICdEYXRhIFVuYXZhaWxhYmxlJzsKICAgICAgICB0aGlzLmN1cnJlbnRfdXZfY29sb3JfY2xhc3MgPSAnJzsKICAgICAgICBpZih0aGlzLnV2X2luZGV4X2RhdGEgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBsZXQgbm93ID0gbW9tZW50KCk7CiAgICAgICAgICAvKlNldCB0aGUgZGVmYXVsdCBpbmRleCBhbmQgcmF0aW5nIHRvIDAuIFVWIEluZGV4IGZvcmVjYXN0IHN0YXJ0cyBhdCA3YW0sIHNvIGlmIHdlJ3JlIGNoZWNraW5nIGJlZm9yZSB0aGVuCiAgICAgICAgICB3ZSB3b24ndCBoYXZlIGEgZm9yZWNhc3QuCiAgICAgICAgICAgKi8KICAgICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleCA9IDA7CiAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfaW5kZXhfcmF0aW5nID0gJ0xvdycKICAgICAgICAgIGZvcih2YXIgaT0gMDsgaSA8IHRoaXMudXZfaW5kZXhfZGF0YS5sZW5ndGg7IGkrKykKICAgICAgICAgIHsKICAgICAgICAgICAgbGV0IHV2X2ZvcmVjYXN0X3RpbWUgPSBtb21lbnQodGhpcy51dl9pbmRleF9kYXRhW2ldLkRBVEVfVElNRSwgJ01NTS9EL1lZWVkgSCBBJyk7CiAgICAgICAgICAgIGlmKG5vdy5ob3VyKCkgPT0gdXZfZm9yZWNhc3RfdGltZS5ob3VyKCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB1dl9pbmRleCA9IHRoaXMudXZfaW5kZXhfZGF0YVtpXS5VVl9WQUxVRTsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfaW5kZXggPSB1dl9pbmRleDsKICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRfdXZfaW5kZXggPD0gMikKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfaW5kZXhfcmF0aW5nID0gIkxvdyI7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfY29sb3JfY2xhc3MgPSAndXZfaW5kZXhfbG93JzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLmN1cnJlbnRfdXZfaW5kZXggPiAyICYmIHRoaXMuY3VycmVudF91dl9pbmRleCA8PSA1KQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleF9yYXRpbmcgPSAiTW9kZXJhdGUiOwogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3V2X2NvbG9yX2NsYXNzID0gJ3V2X2luZGV4X21vZGVyYXRlJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLmN1cnJlbnRfdXZfaW5kZXggPiA1ICYmIHRoaXMuY3VycmVudF91dl9pbmRleCA8PSA3KQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleF9yYXRpbmcgPSAiSGlnaCI7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfY29sb3JfY2xhc3MgPSAndXZfaW5kZXhfaGlnaCc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5jdXJyZW50X3V2X2luZGV4ID4gNyAmJiB0aGlzLmN1cnJlbnRfdXZfaW5kZXggPD0gMTApCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3V2X2luZGV4X3JhdGluZyA9ICJWZXJ5IEhpZ2giOwogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3V2X2NvbG9yX2NsYXNzID0gJ3V2X2luZGV4X3ZlcnlfaGlnaCc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5jdXJyZW50X3V2X2luZGV4ID4gMTApCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3V2X2luZGV4X3JhdGluZyA9ICJFeHRyZW1lIjsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudF91dl9jb2xvcl9jbGFzcyA9ICd1dl9pbmRleF9leHRyZW1lJzsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB1dl9pbmRleDsKICAgICAgfSwKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICBjdXJyZW50X3dpbmRfc3BlZWRfZGlyZWN0aW9uOiBmdW5jdGlvbigpIHsKICAgICAgICBpZih0aGlzLmxhdGVzdF9vYnNfZGF0YSAhPSB1bmRlZmluZWQpCiAgICAgICAgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYodGhpcy5sYXRlc3Rfb2JzX2RhdGEud2luZFNwZWVkLnZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgbGV0IHdpbmRfc3BkX21waCA9IHRoaXMubGF0ZXN0X29ic19kYXRhLndpbmRTcGVlZC52YWx1ZSAqIDAuNjIxMzcxOwogICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMubGF0ZXN0X29ic19kYXRhLndpbmREaXJlY3Rpb24udmFsdWUgJSAzNjA7CiAgICAgICAgICAgICAgbGV0IGRpcl9pbmRleCA9IHBhcnNlSW50KGluZGV4IC8gMjIuNSk7CiAgICAgICAgICAgICAgbGV0IGNvbXBhc3NfdmFsID0gY29tcGFzc19hcnJheVtkaXJfaW5kZXhdOwogICAgICAgICAgICAgIHJldHVybiAod2luZF9zcGRfbXBoLnRvRml4ZWQoKSArICJNcGggIiArIGNvbXBhc3NfdmFsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4oIk4vQSIpOwogICAgICAgICAgfQogICAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5leGNlcHRpb24oZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybignJyk7CgogICAgICB9LAogICAgICBjdXJyZW50X2Fpcl90ZW1wZXJhdHVyZTogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYodGhpcy5sYXRlc3Rfb2JzX2RhdGEgIT0gdW5kZWZpbmVkKQogICAgICAgIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmKHRoaXMubGF0ZXN0X29ic19kYXRhLnRlbXBlcmF0dXJlLnZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgbGV0IHRlbXBfZiA9ICh0aGlzLmxhdGVzdF9vYnNfZGF0YS50ZW1wZXJhdHVyZS52YWx1ZSAqIDkgLyA1KSArIDMyOwogICAgICAgICAgICAgIHJldHVybiAodGVtcF9mLnRvRml4ZWQoKSArICIgRiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybigiTi9BIik7CiAgICAgICAgICB9CiAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmV4Y2VwdGlvbihlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuKCcnKTsKICAgICAgfSwKICAgIH0KICB9Cg=="},{"version":3,"sources":["nws_alerts.vue"],"names":[],"mappings":";AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nws_alerts.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-3 fs-5\">\n        Temperature: {{current_air_temperature}}\n      </div>\n      <div class=\"col-sm-3  fs-5\">\n        Wind: {{current_wind_speed_direction}}\n      </div>\n    </div>\n    <div v-if=\"tide_chart_data !== undefined\">\n      <div class=\"row\">\n        <div class=\"col fs-4\" >\n          Tides\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-12\">\n          <TideChartBlock :tide_station=\"tide_station.stationName\"\n                          :tide_station_id=\"tide_station.stationId\"\n                          :tide_data=\"tide_chart_data.predictions\"></TideChartBlock>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-12 fs-4\">\n        Alerts\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-3 fs-5\">\n        <div>\n          <a @click=\"show_rip_current_modal=true\"> Rip Currents <i class=\"bi bi-info-circle info-icon\"></i></a>\n        </div>\n        <div class=\"ms-5\" :class=\"text_color(rip_current_nws_event)\">\n          {{rip_current_alert}}\n        </div>\n        <RipCurrentModal v-show=\"show_rip_current_modal\"\n                       @close-rip-current-modal=\"show_rip_current_modal = false\"\n                       :alert_message=\"rip_current_details\">\n        </RipCurrentModal>\n      </div>\n      <div class=\"col-sm-3 fs-5\">\n        <div v-if=\"uv_index_data !== undefined\">\n          <div>\n            <a @click=\"show_uv_index_modal=true\">UV Index <i class=\"bi bi-info-circle info-icon\"></i></a>\n          </div>\n          <div class=\"ms-5\" :class=\"current_uv_color_class\">\n            {{this.current_uv_index}}-{{current_uv_index_rating}}\n          </div>\n        </div>\n        <UVIndexModal current_uv_index=\"current_uv_index_rating\" v-show=\"show_uv_index_modal\" @close-uv-index-modal=\"show_uv_index_modal = false\"></UVIndexModal>\n      </div>\n    </div>\n    <div v-if=\"forecast_record !== undefined\" class=\"row mt-3\">\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_0\" :forecast=\"forecast_period(0)\"></NWSForecastBlock>\n      </div>\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_1\" :forecast=\"forecast_period(1)\"></NWSForecastBlock>\n      </div>\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_2\" :forecast=\"forecast_period(2)\"></NWSForecastBlock>\n      </div>\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_3\" :forecast=\"forecast_period(3)\"></NWSForecastBlock>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import RipCurrentModal from \"@/components/rip_current_modal\";\n  import NWSForecastBlock from \"@/components/nws_forecast_block\";\n  import TideChartBlock from \"@/components/tide_prediction\";\n  import UVIndexModal from \"@/components/uv_index_modal\";\n  import NWSApi from \"@/utilities/nws_rest_api\";\n  import DataAPI from \"@/utilities/rest_api\";\n  import nws_alert from \"@/utilities/nws_classes\";\n  import {compass_array} from \"@/utilities/direction_to_compass\";\n\n  import moment from \"moment\";\n\n  export default {\n    name: 'NWSAlertsPage',\n      props: {\n        'longitude': {type: Number, default: undefined},\n        'latitude': {type: Number, default: undefined},\n        'post_code': {type: String, default: undefined}\n      },\n    components: {\n      RipCurrentModal,\n      NWSForecastBlock,\n      TideChartBlock,\n      UVIndexModal\n    },\n    data() {\n      return {\n        rip_current_alert: \"Data Unavailable\",\n        rip_current_nws_event: '',\n        rip_current_details: \"No current alerts\",\n        nws_rip_current_event: \"\",\n        show_rip_current_modal: false,\n        rip_current_record: undefined,\n        nws_alerts: [],\n        forecast_record: undefined,\n        point_information: undefined,\n        closet_obs_station: undefined,\n        latest_obs_data: undefined,\n        show_uv_index_modal: false,\n        uv_index_data: undefined,\n        current_uv_index: undefined,\n        current_uv_index_rating: 'Data Unavailable',\n        current_uv_color_class: '',\n        tide_station: undefined,\n        tide_chart_data: undefined\n      }\n    },\n    created() {\n      this.rip_current_record = new nws_alert();\n    },\n    mounted() {\n      let vm = this;\n      console.debug(\"NWSAlertsPage mounted.\");\n      /*\n      We do the point query to get the links for the forecast and observation links for the grid.\n      */\n      NWSApi.GetNWSPointInformation(this.latitude, this.longitude).then(point_info => {\n        if(point_info != undefined)\n        {\n          vm.point_information = point_info\n          NWSApi.GetObservingStationsforGrid(vm.point_information.observationStations).then(station_list => {\n            vm.closet_obs_station = station_list.features[0];\n            NWSApi.GetNWSStationLatestObservations({station_code: vm.closet_obs_station.properties.stationIdentifier})\n                .then(obs_data => {\n                  vm.latest_obs_data = obs_data;\n                })\n            vm.forecast_record = undefined;\n            NWSApi.GetNWSForecast({url:vm.point_information.forecast}).then(forecast => {\n              if(forecast != undefined)\n              {\n                if('properties' in forecast)\n                {\n                  vm.forecast_record = forecast.properties;\n                }\n                else {\n                  if ('status' in forecast) {\n                    console.error(\"Status: \" + forecast.status + \" \" + forecast.detail);\n                  }\n                  else {\n                    console.error(\"Failed to retrieve the forecast, no data payload or error payload.\");\n\n                  }\n                }\n              }\n            }).catch(error=> {\n              vm.forecast_record = undefined;\n              let error_message = '';\n              let status_code = 404;\n              if ('response' in error && error.response !== undefined) {\n                status_code = error.response.status;\n                if ('error' in error.response.data) {\n                  if ('message' in error.response.data.error) {\n                    error_message = error.response.data.error.message;\n                  }\n                } else {\n                  error_message = error.response.data;\n                }\n                console.error(\"Status code: \" + status_code + \". Error Msg: \" + error_message);\n              } else {\n                console.error(error);\n              }\n            });\n\n            })\n        }\n        else {\n          console.error(\"GetNWSPointInformation returned undefined.\")\n        }\n      }).catch(error => {\n        let error_message = '';\n        let status_code = 404;\n        if('response' in error && error.response !== undefined) {\n          status_code = error.response.status;\n          if ('error' in error.response.data) {\n            if ('message' in error.response.data.error) {\n              error_message = error.response.data.error.message;\n            }\n          } else {\n            error_message = error.response.data;\n          }\n          console.error(\"Status code: \" + status_code +\". Error Msg: \" + error_message);\n        }\n        else{\n          console.error(error);\n        }\n      });\n\n      /*\n      NWSApi.GetNWSZones({longitude: this.longitude, latitude: this.latitude}).then((zone_data)=>{\n        zone_data;\n        vm;\n      });\n      */\n      //{longitude: this.longitude, latitude: this.latitude, event: 'Rip Current Statement'}\n      NWSApi.GetNWSActiveAlerts({longitude: this.longitude, latitude: this.latitude}).then(alerts => {\n        vm.rip_current_alert =\n        vm.surf_alert = 'No Alerts';\n        vm.rip_current_details =\n        vm.surf_alert_details = \"No current alerts\";\n\n        let rip_current_found = false;\n        for(var i = 0; i < alerts.length; i++) {\n          let feature = alerts[i];\n          let alert = new nws_alert();\n          alert.parse_api_response(feature);\n           vm.nws_alerts[feature.properties.event] = alert;\n           if(feature.properties.event == 'Rip Current Statement')\n           {\n             //vm.rip_current_record.parse_api_response(feature);\n             vm.rip_current_alert = 'Rip Currents Present'\n             vm.rip_current_record = feature;\n             vm.rip_current_nws_event = feature.properties.event;\n             vm.rip_current_details = feature.properties.description;\n             rip_current_found = true\n           }\n           else if(feature.properties.event.search(/surf/i))\n          {\n            vm.surf_alert = feature.properties.event;\n            vm.surf_alert_details = feature.properties.description;\n          }\n        }\n        if(!rip_current_found)\n        {\n          vm.rip_current_alert = \"No Alerts\"\n        }\n      })\n      .catch(error => {\n        vm.rip_current_alert =\n        vm.surf_alert = 'Data Unavailable';\n        vm.rip_current_details =\n        vm.surf_alert_details = '';\n        DataAPI.error_handler('GetNWSActiveAlerts', error);\n      });\n      NWSApi.EPAGetUVIndex({post_code: this.post_code}).then(uv_index => {\n        vm.uv_index_data = uv_index;\n        vm.find_uv_index();\n      }).catch(error => {\n        vm.uv_index_data = undefined;\n        DataAPI.error_handler('EPAGetUVIndex', error);\n      });\n      NWSApi.NOAAFindTideStation(this.latitude, this.longitude, 20).then(tide_stations => {\n        this.tide_station = undefined;\n        //We loop the results looking for the closest harmonic station.\n        for(var i = 0; i < tide_stations.stationList.length; i+=1)\n        {\n          //The R stations are harmonic stations which will have the predictions.\n          if(tide_stations.stationList[i].stationType == 'R')\n          {\n            vm.tide_station = tide_stations.stationList[i];\n            break\n          }\n        }\n        if(this.tide_station != undefined)\n        {\n          NWSApi.NOAATideQuery('today',\n              vm.tide_station.stationId,\n              'predictions',\n              'STND',\n              'lst_ldt',\n              'hilo',\n              'english').then(tide_chart_data => {\n                vm.tide_chart_data = tide_chart_data;\n          })\n        }\n      }).catch(error => {\n        vm.tide_station = '';\n        vm.tide_chart_data = undefined;\n        DataAPI.error_handler('NOAAFindTideStation', error);\n\n      })\n      console.debug(\"NWSAlertsPage mounted finished.\");\n    },\n    methods: {\n      text_color: function(alert_message) {\n        let text_color = 'no_alert';\n        if(alert_message.match(/warning/i))\n        {\n          text_color = 'warning';\n        }\n        else if(alert_message.match(/advisory/i))\n        {\n          text_color = 'advisory';\n        }\n        else if(alert_message.match(/watch/i))\n        {\n          text_color = 'watch';\n        }\n        else if(alert_message.match(/statement/i))\n        {\n          text_color = 'warning';\n        }\n        return text_color;\n      },\n      forecast_period: function(period_number) {\n        if(this.forecast_record != undefined)\n        {\n          if(period_number < this.forecast_record.periods.length)\n          {\n            return(this.forecast_record.periods[period_number]);\n          }\n          else {\n            console.error(\"Period number request: \" + period_number + \" outside range.\");\n          }\n        }\n        return(undefined);\n      },\n      find_uv_index: function() {\n        let uv_index = -1;\n        this.current_uv_index = -1;\n        this.current_uv_index_rating = 'Data Unavailable';\n        this.current_uv_color_class = '';\n        if(this.uv_index_data != undefined) {\n          let now = moment();\n          /*Set the default index and rating to 0. UV Index forecast starts at 7am, so if we're checking before then\n          we won't have a forecast.\n           */\n          this.current_uv_index = 0;\n          this.current_uv_index_rating = 'Low'\n          for(var i= 0; i < this.uv_index_data.length; i++)\n          {\n            let uv_forecast_time = moment(this.uv_index_data[i].DATE_TIME, 'MMM/D/YYYY H A');\n            if(now.hour() == uv_forecast_time.hour())\n            {\n              uv_index = this.uv_index_data[i].UV_VALUE;\n              this.current_uv_index = uv_index;\n              if(this.current_uv_index <= 2)\n              {\n                this.current_uv_index_rating = \"Low\";\n                this.current_uv_color_class = 'uv_index_low';\n              }\n              else if(this.current_uv_index > 2 && this.current_uv_index <= 5)\n              {\n                this.current_uv_index_rating = \"Moderate\";\n                this.current_uv_color_class = 'uv_index_moderate';\n              }\n              else if(this.current_uv_index > 5 && this.current_uv_index <= 7)\n              {\n                this.current_uv_index_rating = \"High\";\n                this.current_uv_color_class = 'uv_index_high';\n              }\n              else if(this.current_uv_index > 7 && this.current_uv_index <= 10)\n              {\n                this.current_uv_index_rating = \"Very High\";\n                this.current_uv_color_class = 'uv_index_very_high';\n              }\n              else if(this.current_uv_index > 10)\n              {\n                this.current_uv_index_rating = \"Extreme\";\n                this.current_uv_color_class = 'uv_index_extreme';\n              }\n\n              break;\n            }\n          }\n        }\n        return uv_index;\n      },\n    },\n    computed: {\n      current_wind_speed_direction: function() {\n        if(this.latest_obs_data != undefined)\n        {\n          try {\n            if(this.latest_obs_data.windSpeed.value !== null) {\n              let wind_spd_mph = this.latest_obs_data.windSpeed.value * 0.621371;\n              let index = this.latest_obs_data.windDirection.value % 360;\n              let dir_index = parseInt(index / 22.5);\n              let compass_val = compass_array[dir_index];\n              return (wind_spd_mph.toFixed() + \"Mph \" + compass_val);\n            }\n            return(\"N/A\");\n          }\n          catch (e) {\n            console.exception(e);\n          }\n        }\n        return('');\n\n      },\n      current_air_temperature: function() {\n        if(this.latest_obs_data != undefined)\n        {\n          try {\n            if(this.latest_obs_data.temperature.value !== null) {\n              let temp_f = (this.latest_obs_data.temperature.value * 9 / 5) + 32;\n              return (temp_f.toFixed() + \" F\");\n            }\n            return(\"N/A\");\n          }\n          catch (e) {\n            console.exception(e);\n          }\n        }\n        return('');\n      },\n    }\n  }\n</script>\n<style>\n</style>\n"]}]}