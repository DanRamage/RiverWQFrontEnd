{"remainingRequest":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/shellfish_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/shellfish_page.vue","mtime":1682360357858},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js","mtime":1682361371663},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1682361372188}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IEZlYXR1cmVVdGlscyBmcm9tICIuLi91dGlsaXRpZXMvZmVhdHVyZV9mdW5jcyI7CgppbXBvcnQgRGF0YUFQSSBmcm9tICIuLi91dGlsaXRpZXMvcmVzdF9hcGkiOwoKaW1wb3J0IE5XU0FsZXJ0cyBmcm9tICJAL2NvbXBvbmVudHMvbndzX2FsZXJ0cyI7CmltcG9ydCBOb25lTWFya2VySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvbm9uZV9tYXJrZXJfMjV4MjUucG5nIjsKaW1wb3J0IEZlYXR1cmVVdGlscyBmcm9tICJAL3V0aWxpdGllcy9mZWF0dXJlX2Z1bmNzIjsKaW1wb3J0IFNoZWxsZmlzaExvd01hcmtlckljb24gZnJvbSAiQC9hc3NldHMvaW1hZ2VzL3NoZWxsZmlzaF9sb3dfbWFya2VyXzI1eDI1LnBuZyI7CmltcG9ydCBTaGVsbGZpc2hIaU1hcmtlckljb24gZnJvbSAiQC9hc3NldHMvaW1hZ2VzL3NoZWxsZmlzaF9oaWdoX21hcmtlcl8yNXgyNS5wbmciOwppbXBvcnQgU2hlbGxmaXNoTm9uZU1hcmtlckljb24gZnJvbSAiQC9hc3NldHMvaW1hZ2VzL3NoZWxsZmlzaF9ub25lX21hcmtlcl8yNXgyNS5wbmciOwppbXBvcnQgU3R5bGUgZnJvbSAnb2wvc3R5bGUvU3R5bGUnOwppbXBvcnQgSWNvbiBmcm9tICdvbC9zdHlsZS9JY29uJzsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwoKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NoZWxsZmlzaFBhZ2UnLAogIHByb3BzOiB7CiAgICAncF9mZWF0dXJlJzoge3R5cGU6IE9iamVjdCwgZGVmYXVsdDogdW5kZWZpbmVkfSwKICAgICdwX3NpdGVfbmFtZSc6IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IHVuZGVmaW5lZH0sCiAgICAncF9zaXRlX2lkJzoge3R5cGU6IFN0cmluZywgZGVmYXVsdDogdW5kZWZpbmVkfSwKICAgICdwX3Byb2dyYW1fdHlwZSc6IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IHVuZGVmaW5lZH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOV1NBbGVydHMKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2xsZWN0aW9uX3Byb2dyYW1faW5mbzogdW5kZWZpbmVkLAogICAgICBwcm9ncmFtX3R5cGU6ICJTaGVsbGZpc2ggTW9uaXRvcmluZyIsCiAgICAgIHpvb206IDE1LAogICAgICBjZW50ZXI6IFswLCAwXSwKICAgICAgcm90YXRpb246IDAsCiAgICAgIC8qVGhlc2UgY2FuIGJlIHBhc3NlZCBhcyBwcm9wcywgb3IgdGhlIHVzZXIgY291bGQgYm9va21hcmsgdGhpcyBwYWdlIGFuZCBnbyBkaXJlY3RseSB0byBpdCwgaW4gd2hpY2ggY2FzZSB3ZQogICAgICBxdWVyeSB0aGUgZGF0YS4qLwogICAgICBpbnRlcm5hbF9mZWF0dXJlOiB1bmRlZmluZWQsCiAgICAgIGludGVybmFsX3NpdGVfbmFtZTogdW5kZWZpbmVkLAogICAgICBpbnRlcm5hbF9zaXRlX2lkOiB1bmRlZmluZWQKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBsZXQgdm0gPSB0aGlzOwogICAgY29uc29sZS5kZWJ1ZygiU2hlbGxmaXNoUGFnZSBtb3VudGVkLiIpOwogICAgaWYodGhpcy5wX3Byb2dyYW1fdHlwZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMucHJvZ3JhbV90eXBlID0gdGhpcy5wX3Byb2dyYW1fdHlwZTsKICAgIH0KICAgIERhdGFBUEkuR2V0V2F0ZXJRdWFsaXR5UHJvZ3JhbUluZm8odGhpcy4kc3RvcmUuc3RhdGUuc2l0ZV9uYW1lLCB0aGlzLnByb2dyYW1fdHlwZSkKICAgICAgICAudGhlbihwcm9ncmFtX2luZm9fcmVjID0+IHsKICAgICAgICAgIHZtLmNvbGxlY3Rpb25fcHJvZ3JhbV9pbmZvID0gcHJvZ3JhbV9pbmZvX3JlYzsKICAgICAgICB9KQoKICAgIGlmICh0aGlzLnBfc2l0ZV9uYW1lID09PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5pbnRlcm5hbF9zaXRlX25hbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zaXRlX25hbWU7CiAgICAgIHRoaXMuaW50ZXJuYWxfc2l0ZV9pZCA9IHRoaXMuJHN0b3JlLnN0YXRlLnN0YXRpb25fbmFtZTsKICAgICAgRGF0YUFQSS5HZXRTaXRlc1Byb21pc2UodGhpcy5pbnRlcm5hbF9zaXRlX25hbWUsIHRoaXMuaW50ZXJuYWxfc2l0ZV9pZCkudGhlbihmZWF0dXJlcyA9PiB7CiAgICAgICAgY29uc29sZS5kZWJ1ZygiUmV0cmlldmVkOiAiICsgZmVhdHVyZXMuZGF0YS5zaXRlcy5mZWF0dXJlcy5sZW5ndGggKyAiIGZlYXR1cmVzIik7CiAgICAgICAgZm9yIChjb25zdCBuZHggaW4gZmVhdHVyZXMuZGF0YS5zaXRlcy5mZWF0dXJlcykgewogICAgICAgICAgbGV0IHNpdGUgPSBmZWF0dXJlcy5kYXRhLnNpdGVzLmZlYXR1cmVzW25keF07CiAgICAgICAgICBpZiAodm0uaW50ZXJuYWxfc2l0ZV9pZCA9PSBzaXRlLnByb3BlcnRpZXMuc2l0ZV9uYW1lKSB7CiAgICAgICAgICAgIHZtLmludGVybmFsX2ZlYXR1cmUgPSBzaXRlOwogICAgICAgICAgICB2bS5jZW50ZXIgPSB2bS5pbnRlcm5hbF9mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgIH0KICAgIGVsc2UgewogICAgICB0aGlzLmludGVybmFsX2ZlYXR1cmUgPSB0aGlzLnBfZmVhdHVyZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNpdGVTdHlsZUZhY3Rvcnk6IGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmRlYnVnKCJzaXRlU3R5bGVGYWN0b3J5IHN0YXJ0ZWQiKTsKICAgICAgLyoKICAgICAgRm9yIGVhY2ggZmVhdHVyZSwgdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGRldGVybWluZSB3aGF0IGljb24gdG8gdXNlIGJhc2VkIG9uIHRoZSBsZXZlbC4KICAgICAgKi8KICAgICAgdmFyIHNpdGVTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikgewogICAgICAgIHJlc29sdXRpb247CiAgICAgICAgbGV0IGljb25fc2NhbGUgPSAwLjc1OwogICAgICAgIGxldCBwcm9wZXJ0aWVzID0gZmVhdHVyZS5nZXRQcm9wZXJ0aWVzKCk7CiAgICAgICAgbGV0IHNpdGVfdHlwZSA9IHByb3BlcnRpZXMuc2l0ZV90eXBlOwogICAgICAgIGxldCBpY29uID0gbmV3IEljb24oewogICAgICAgICAgc3JjOiBOb25lTWFya2VySWNvbiwKICAgICAgICAgIHNjYWxlOiBpY29uX3NjYWxlCiAgICAgICAgfSk7CiAgICAgICAgaWYoc2l0ZV90eXBlID09ICdTaGVsbGZpc2gnKQogICAgICAgIHsKICAgICAgICAgIHRyeQogICAgICAgICAgewogICAgICAgICAgICBpZiAoc2l0ZV90eXBlIGluIHByb3BlcnRpZXMpIHsKICAgICAgICAgICAgICAvL0ZpcnN0IGNoZWNrIHRvIHNlZSBpZiBvdXIgZGF0YSBpcyBzdGlsbCBmcmVzaC4KICAgICAgICAgICAgICBsZXQgZGF0YUZyZXNoID0gRmVhdHVyZVV0aWxzLmlzRGF0YUZyZXNoKHByb3BlcnRpZXNbc2l0ZV90eXBlXS5hZHZpc29yeSk7CiAgICAgICAgICAgICAgaWYgKGRhdGFGcmVzaCkgewogICAgICAgICAgICAgICAgLy9TaGVsbGZpc2ggdmFsdWVzIGFyZSBlaXRoZXIgdHJ1ZSBmb3IgY2xvc2VkIG9yIGZhbHNlIGZvciBvcGVuLgogICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcHJvcGVydGllc1tzaXRlX3R5cGVdLmFkdmlzb3J5LnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgICAgICAgICBpY29uID0gbmV3IEljb24oewogICAgICAgICAgICAgICAgICAgIHNyYzogU2hlbGxmaXNoTG93TWFya2VySWNvbiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogaWNvbl9zY2FsZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGljb24gPSBuZXcgSWNvbih7CiAgICAgICAgICAgICAgICAgICAgc3JjOiBTaGVsbGZpc2hIaU1hcmtlckljb24sCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IGljb25fc2NhbGUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGljb24gPSBuZXcgSWNvbih7CiAgICAgICAgICAgICAgICAgIHNyYzogU2hlbGxmaXNoTm9uZU1hcmtlckljb24sCiAgICAgICAgICAgICAgICAgIHNjYWxlOiBpY29uX3NjYWxlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGNhdGNoKGVycm9yKQogICAgICAgICAgewogICAgICAgICAgICBpY29uID0gbmV3IEljb24oewogICAgICAgICAgICAgIHNyYzogU2hlbGxmaXNoTm9uZU1hcmtlckljb24sCiAgICAgICAgICAgICAgc2NhbGU6IGljb25fc2NhbGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsZXQgaWNvbl9zdHlsZSA9IFsKICAgICAgICAgIG5ldyBTdHlsZSh7CiAgICAgICAgICAgIGltYWdlOiBpY29uLAogICAgICAgICAgfSkKICAgICAgICBdOwogICAgICAgIHJldHVybihpY29uX3N0eWxlKTsKICAgICAgfTsKICAgICAgcmV0dXJuIHNpdGVTdHlsZUZ1bmN0aW9uOwogICAgfSwKCiAgICBvbkNsb3NlKCkgewogICAgfSwKICAgIHRleHRfY29sb3I6IGZ1bmN0aW9uKGxldmVsKSB7CiAgICAgIGxldCB0ZXh0X2NvbG9yID0gJyc7CiAgICAgIGlmKGxldmVsID09ICJPUEVOIikKICAgICAgewogICAgICAgIHRleHRfY29sb3IgPSAnbm9fYWxlcnQnOwogICAgICB9CiAgICAgIGVsc2UKICAgICAgewogICAgICAgIHRleHRfY29sb3IgPSAnd2FybmluZyc7CiAgICAgIH0KICAgICAgcmV0dXJuIHRleHRfY29sb3I7CiAgICB9CiAgfSwKICB3YXRjaDoge30sCiAgY29tcHV0ZWQ6IHsKICAgIHNpdGVfcG9zdF9jb2RlOiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMucF9mZWF0dXJlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gKHRoaXMucF9mZWF0dXJlLnByb3BlcnRpZXMucG9zdF9jb2RlKQogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5pbnRlcm5hbF9mZWF0dXJlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gKHRoaXMuaW50ZXJuYWxfZmVhdHVyZS5wcm9wZXJ0aWVzLnBvc3RfY29kZSkKICAgICAgfQogICAgICByZXR1cm4gKCcnKTsKICAgIH0sCiAgICBzaXRlX25hbWU6IGZ1bmN0aW9uKCkgewogICAgICBsZXQgbmFtZSA9ICIiOwogICAgICBpZih0aGlzLnBfc2l0ZV9uYW1lICE9PSB1bmRlZmluZWQpCiAgICAgIHsKICAgICAgICBuYW1lID0gdGhpcy5wX3NpdGVfbmFtZTsKICAgICAgfQogICAgICBlbHNlIGlmKHRoaXMuaW50ZXJuYWxfc2l0ZV9uYW1lICE9PSB1bmRlZmluZWQpCiAgICAgIHsKICAgICAgICBuYW1lID0gdGhpcy5pbnRlcm5hbF9zaXRlX25hbWU7CiAgICAgIH0KICAgICAgcmV0dXJuKG5hbWUpOwogICAgfSwKICAgIHNpdGVfaWQ6IGZ1bmN0aW9uKCkgewogICAgICBsZXQgaWQgPSAiIjsKICAgICAgaWYodGhpcy5wX3NpdGVfaWQgIT09IHVuZGVmaW5lZCkKICAgICAgewogICAgICAgIGlkID0gdGhpcy5wX3NpdGVfaWQ7CiAgICAgIH0KICAgICAgZWxzZSBpZih0aGlzLmludGVybmFsX3NpdGVfaWQgIT09IHVuZGVmaW5lZCkKICAgICAgewogICAgICAgIGlkID0gdGhpcy5pbnRlcm5hbF9zaXRlX2lkOwogICAgICB9CiAgICAgIHJldHVybihpZCk7CiAgICB9LAogICAgc2l0ZV9sb25naXR1ZGU6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuaW50ZXJuYWxfZmVhdHVyZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLmludGVybmFsX2ZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pCiAgICAgIH0KICAgICAgcmV0dXJuICgtMS4wKTsKICAgIH0sCiAgICBzaXRlX2xhdGl0dWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmludGVybmFsX2ZlYXR1cmUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiAodGhpcy5pbnRlcm5hbF9mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdKQogICAgICB9CiAgICAgIHJldHVybiAoLTEuMCk7CiAgICB9LAogICAgc2l0ZV9mZWF0dXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmludGVybmFsX2ZlYXR1cmUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiAoW3RoaXMuaW50ZXJuYWxfZmVhdHVyZV0pOwogICAgICB9CiAgICAgIHJldHVybiAoW10pOwogICAgfSwKICAgIHNpdGVfZGVzY3JpcHRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuaW50ZXJuYWxfZmVhdHVyZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLmludGVybmFsX2ZlYXR1cmUucHJvcGVydGllcy5kZXNjcmlwdGlvbik7CiAgICAgIH0KICAgICAgcmV0dXJuICgiIik7CiAgICB9LAogICAgY29sbGVjdGlvbl9wcm9ncmFtX25hbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IG5hbWUgPSAnJzsKICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbl9wcm9ncmFtX2luZm8gIT09IHVuZGVmaW5lZCkgewogICAgICAgIG5hbWUgPSB0aGlzLmNvbGxlY3Rpb25fcHJvZ3JhbV9pbmZvLnByb2dyYW1fbmFtZTsKICAgICAgfQogICAgICByZXR1cm4obmFtZSk7CiAgICB9LAogICAgY29sbGVjdGlvbl9wcm9ncmFtX2Rlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHsKICAgICAgbGV0IGRlc2MgPSAnJzsKICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbl9wcm9ncmFtX2luZm8gIT09IHVuZGVmaW5lZCkgewogICAgICAgIGRlc2MgPSB0aGlzLmNvbGxlY3Rpb25fcHJvZ3JhbV9pbmZvLmRlc2NyaXB0aW9uOwogICAgICB9CiAgICAgIHJldHVybihkZXNjKTsKICAgIH0sCiAgICBjb2xsZWN0aW9uX3Byb2dyYW1fdXJsOiBmdW5jdGlvbigpIHsKICAgICAgbGV0IHVybCA9ICcnOwogICAgICBpZiAodGhpcy5jb2xsZWN0aW9uX3Byb2dyYW1faW5mbyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdXJsID0gdGhpcy5jb2xsZWN0aW9uX3Byb2dyYW1faW5mby51cmw7CiAgICAgIH0KICAgICAgcmV0dXJuKHVybCk7CiAgICB9LAogICAgcmVnaW9uX25hbWU6IGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmRlYnVnKCJyZWdpb25OYW1lIHN0YXJ0ZWQuIik7CiAgICAgIGlmKHRoaXMuaW50ZXJuYWxfZmVhdHVyZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbGV0IHNpdGVfdHlwZSA9IHRoaXMuaW50ZXJuYWxfZmVhdHVyZS5wcm9wZXJ0aWVzLnNpdGVfdHlwZTsKICAgICAgICBpZiAoc2l0ZV90eXBlIGluIHRoaXMuaW50ZXJuYWxfZmVhdHVyZS5wcm9wZXJ0aWVzKSB7CiAgICAgICAgICByZXR1cm4gKHRoaXMuaW50ZXJuYWxfZmVhdHVyZS5wcm9wZXJ0aWVzW3NpdGVfdHlwZV0ucmVnaW9uKQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4oIiIpCiAgICB9LAogICAgYWR2aXNvcnk6IGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmRlYnVnKCJoYXNBZHZpc29yeSBzdGFydGVkLiIpOwogICAgICBpZiAodGhpcy5pbnRlcm5hbF9mZWF0dXJlICE9PSB1bmRlZmluZWQpIHsKCiAgICAgICAgbGV0IHNpdGVfdHlwZSA9IHRoaXMuaW50ZXJuYWxfZmVhdHVyZS5wcm9wZXJ0aWVzLnNpdGVfdHlwZTsKICAgICAgICBpZiAoc2l0ZV90eXBlIGluIHRoaXMuaW50ZXJuYWxfZmVhdHVyZS5wcm9wZXJ0aWVzKSB7CiAgICAgICAgICBpZiAoJ2Fkdmlzb3J5JyBpbiB0aGlzLmludGVybmFsX2ZlYXR1cmUucHJvcGVydGllc1tzaXRlX3R5cGVdKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5pbnRlcm5hbF9mZWF0dXJlLnByb3BlcnRpZXNbc2l0ZV90eXBlXS5hZHZpc29yeS52YWx1ZSkgewogICAgICAgICAgICAgIHJldHVybiAoIk9QRU4iKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gKCJDTE9TRUQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4oIkRhdGEgdW5hdmFpbGFibGUiKTsKICAgIH0sCiAgICBsYXN0Q2hlY2tlZERhdGU6IGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmRlYnVnKCJsYXN0Q2hlY2tlZERhdGUgc3RhcnRlZC4iKTsKICAgICAgaWYgKHRoaXMuaW50ZXJuYWxfZmVhdHVyZSAhPT0gdW5kZWZpbmVkKSB7CgogICAgICAgIGxldCBzaXRlX3R5cGUgPSB0aGlzLmludGVybmFsX2ZlYXR1cmUucHJvcGVydGllcy5zaXRlX3R5cGU7CiAgICAgICAgaWYgKHNpdGVfdHlwZSBpbiB0aGlzLmludGVybmFsX2ZlYXR1cmUucHJvcGVydGllcykgewogICAgICAgICAgdmFyIGRhdGUgPSBtb21lbnQodGhpcy5pbnRlcm5hbF9mZWF0dXJlLnByb3BlcnRpZXNbc2l0ZV90eXBlXS5hZHZpc29yeS5kYXRlKS5mb3JtYXQoIk1NTU0gRG8gWVlZWSBoaDptbSBhIik7CiAgICAgICAgICByZXR1cm4gKGRhdGUpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4oIiIpOwogICAgfSwKICAgIGlzRGF0YUZyZXNoOiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuaW50ZXJuYWxfZmVhdHVyZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLmludGVybmFsX2ZlYXR1cmUucHJvcGVydGllczsKICAgICAgICBsZXQgc2l0ZV90eXBlID0gdGhpcy5pbnRlcm5hbF9mZWF0dXJlLnByb3BlcnRpZXMuc2l0ZV90eXBlOwogICAgICAgIHJldHVybiAoRmVhdHVyZVV0aWxzLmlzRGF0YUZyZXNoKHByb3BlcnRpZXNbc2l0ZV90eXBlXS5hZHZpc29yeSkpOwogICAgICB9CiAgICAgIHJldHVybihmYWxzZSk7CiAgICB9CgoKICB9Cn0K"},{"version":3,"sources":["shellfish_page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"shellfish_page.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"montserat-font container page-background data-graph\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"font-avenir fs-5\">\n          <div>Shellfish Site: {{ site_description }}</div>\n          <div>Site ID: {{ site_id }}</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-3\">\n        <div v-if=\"site_feature.length\" style=\"height: 250px; width: 250px\">\n          <vl-map id=\"single_site_map\"\n                  ref=\"single_site_map\"\n                  :load-tiles-while-animating=\"true\"\n                  :load-tiles-while-interacting=\"true\"\n                  data-projection=\"EPSG:4326\">\n            <vl-view :zoom.sync=\"zoom\" :center.sync=\"center\" :rotation.sync=\"rotation\"></vl-view>\n            <vl-layer-tile>\n              <vl-source-xyz url=\"https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}\"\n                             attributions=\"\"/>\n            </vl-layer-tile>\n            <vl-layer-vector id=\"site\">\n              <vl-source-vector ref=\"site_vector_layer\" :features.sync=\"site_feature\"></vl-source-vector>\n              <vl-style-func :factory=\"siteStyleFactory\"></vl-style-func>\n            </vl-layer-vector>\n          </vl-map>\n\n        </div>\n      </div>\n      <div class=\"col-sm-4 ml-4 fs-6\">\n        <p>\n          {{ collection_program_description }}\n        </p>\n        <div>\n          Site: <span :class=\"text_color(advisory)\">{{advisory}}</span>\n        </div>\n        <div>\n          Last Data Check: {{lastCheckedDate}}\n        </div>\n        <div class=\"row\">\n        </div>\n      </div>\n    </div>\n    <div class=\"row gy-0\">\n      <div class=\"col-12\">\n        <hr>\n      </div>\n    </div>\n    <div class=\"row gy-0\">\n      <div class=\"col-sm-12\">\n        <hr>\n        <div class=\"fs-6\">Alerts</div>\n\n        <div v-if=\"site_feature.length\">\n          <NWSAlerts :latitude=\"site_latitude\"\n                     :longitude=\"site_longitude\"\n                      :post_code=\"site_post_code\">\n\n          </NWSAlerts>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n//import FeatureUtils from \"../utilities/feature_funcs\";\n\nimport DataAPI from \"../utilities/rest_api\";\n\nimport NWSAlerts from \"@/components/nws_alerts\";\nimport NoneMarkerIcon from \"@/assets/images/none_marker_25x25.png\";\nimport FeatureUtils from \"@/utilities/feature_funcs\";\nimport ShellfishLowMarkerIcon from \"@/assets/images/shellfish_low_marker_25x25.png\";\nimport ShellfishHiMarkerIcon from \"@/assets/images/shellfish_high_marker_25x25.png\";\nimport ShellfishNoneMarkerIcon from \"@/assets/images/shellfish_none_marker_25x25.png\";\nimport Style from 'ol/style/Style';\nimport Icon from 'ol/style/Icon';\nimport moment from \"moment\";\n\n\n\nexport default {\n  name: 'ShellfishPage',\n  props: {\n    'p_feature': {type: Object, default: undefined},\n    'p_site_name': {type: String, default: undefined},\n    'p_site_id': {type: String, default: undefined},\n    'p_program_type': {type: String, default: undefined},\n  },\n  components: {\n    NWSAlerts\n  },\n  data() {\n    return {\n      collection_program_info: undefined,\n      program_type: \"Shellfish Monitoring\",\n      zoom: 15,\n      center: [0, 0],\n      rotation: 0,\n      /*These can be passed as props, or the user could bookmark this page and go directly to it, in which case we\n      query the data.*/\n      internal_feature: undefined,\n      internal_site_name: undefined,\n      internal_site_id: undefined\n    }\n  },\n  mounted() {\n    let vm = this;\n    console.debug(\"ShellfishPage mounted.\");\n    if(this.p_program_type !== undefined) {\n      this.program_type = this.p_program_type;\n    }\n    DataAPI.GetWaterQualityProgramInfo(this.$store.state.site_name, this.program_type)\n        .then(program_info_rec => {\n          vm.collection_program_info = program_info_rec;\n        })\n\n    if (this.p_site_name === undefined) {\n      this.internal_site_name = this.$store.state.site_name;\n      this.internal_site_id = this.$store.state.station_name;\n      DataAPI.GetSitesPromise(this.internal_site_name, this.internal_site_id).then(features => {\n        console.debug(\"Retrieved: \" + features.data.sites.features.length + \" features\");\n        for (const ndx in features.data.sites.features) {\n          let site = features.data.sites.features[ndx];\n          if (vm.internal_site_id == site.properties.site_name) {\n            vm.internal_feature = site;\n            vm.center = vm.internal_feature.geometry.coordinates;\n            break;\n          }\n        }\n      });\n\n    }\n    else {\n      this.internal_feature = this.p_feature;\n    }\n  },\n  methods: {\n    siteStyleFactory: function() {\n      console.debug(\"siteStyleFactory started\");\n      /*\n      For each feature, this function is used to determine what icon to use based on the level.\n      */\n      var siteStyleFunction = function(feature, resolution) {\n        resolution;\n        let icon_scale = 0.75;\n        let properties = feature.getProperties();\n        let site_type = properties.site_type;\n        let icon = new Icon({\n          src: NoneMarkerIcon,\n          scale: icon_scale\n        });\n        if(site_type == 'Shellfish')\n        {\n          try\n          {\n            if (site_type in properties) {\n              //First check to see if our data is still fresh.\n              let dataFresh = FeatureUtils.isDataFresh(properties[site_type].advisory);\n              if (dataFresh) {\n                //Shellfish values are either true for closed or false for open.\n                let value = properties[site_type].advisory.value;\n                if (!value) {\n                  icon = new Icon({\n                    src: ShellfishLowMarkerIcon,\n                    scale: icon_scale\n                  });\n                } else {\n                  icon = new Icon({\n                    src: ShellfishHiMarkerIcon,\n                    scale: icon_scale\n                  });\n                }\n              } else {\n                icon = new Icon({\n                  src: ShellfishNoneMarkerIcon,\n                  scale: icon_scale\n                });\n              }\n            }\n          }\n          catch(error)\n          {\n            icon = new Icon({\n              src: ShellfishNoneMarkerIcon,\n              scale: icon_scale\n            });\n            console.error(error);\n          }\n        }\n        let icon_style = [\n          new Style({\n            image: icon,\n          })\n        ];\n        return(icon_style);\n      };\n      return siteStyleFunction;\n    },\n\n    onClose() {\n    },\n    text_color: function(level) {\n      let text_color = '';\n      if(level == \"OPEN\")\n      {\n        text_color = 'no_alert';\n      }\n      else\n      {\n        text_color = 'warning';\n      }\n      return text_color;\n    }\n  },\n  watch: {},\n  computed: {\n    site_post_code: function() {\n      if (this.p_feature !== undefined) {\n        return (this.p_feature.properties.post_code)\n      }\n      else if(this.internal_feature !== undefined) {\n        return (this.internal_feature.properties.post_code)\n      }\n      return ('');\n    },\n    site_name: function() {\n      let name = \"\";\n      if(this.p_site_name !== undefined)\n      {\n        name = this.p_site_name;\n      }\n      else if(this.internal_site_name !== undefined)\n      {\n        name = this.internal_site_name;\n      }\n      return(name);\n    },\n    site_id: function() {\n      let id = \"\";\n      if(this.p_site_id !== undefined)\n      {\n        id = this.p_site_id;\n      }\n      else if(this.internal_site_id !== undefined)\n      {\n        id = this.internal_site_id;\n      }\n      return(id);\n    },\n    site_longitude: function () {\n      if (this.internal_feature !== undefined) {\n        return (this.internal_feature.geometry.coordinates[0])\n      }\n      return (-1.0);\n    },\n    site_latitude: function () {\n      if (this.internal_feature !== undefined) {\n        return (this.internal_feature.geometry.coordinates[1])\n      }\n      return (-1.0);\n    },\n    site_feature: function () {\n      if (this.internal_feature !== undefined) {\n        return ([this.internal_feature]);\n      }\n      return ([]);\n    },\n    site_description: function () {\n      if (this.internal_feature !== undefined) {\n        return (this.internal_feature.properties.description);\n      }\n      return (\"\");\n    },\n    collection_program_name: function () {\n      let name = '';\n      if (this.collection_program_info !== undefined) {\n        name = this.collection_program_info.program_name;\n      }\n      return(name);\n    },\n    collection_program_description: function() {\n      let desc = '';\n      if (this.collection_program_info !== undefined) {\n        desc = this.collection_program_info.description;\n      }\n      return(desc);\n    },\n    collection_program_url: function() {\n      let url = '';\n      if (this.collection_program_info !== undefined) {\n        url = this.collection_program_info.url;\n      }\n      return(url);\n    },\n    region_name: function() {\n      console.debug(\"regionName started.\");\n      if(this.internal_feature !== undefined) {\n        let site_type = this.internal_feature.properties.site_type;\n        if (site_type in this.internal_feature.properties) {\n          return (this.internal_feature.properties[site_type].region)\n        }\n      }\n      return(\"\")\n    },\n    advisory: function() {\n      console.debug(\"hasAdvisory started.\");\n      if (this.internal_feature !== undefined) {\n\n        let site_type = this.internal_feature.properties.site_type;\n        if (site_type in this.internal_feature.properties) {\n          if ('advisory' in this.internal_feature.properties[site_type]) {\n            if (!this.internal_feature.properties[site_type].advisory.value) {\n              return (\"OPEN\");\n            } else {\n              return (\"CLOSED\");\n            }\n          }\n        }\n      }\n      return(\"Data unavailable\");\n    },\n    lastCheckedDate: function() {\n      console.debug(\"lastCheckedDate started.\");\n      if (this.internal_feature !== undefined) {\n\n        let site_type = this.internal_feature.properties.site_type;\n        if (site_type in this.internal_feature.properties) {\n          var date = moment(this.internal_feature.properties[site_type].advisory.date).format(\"MMMM Do YYYY hh:mm a\");\n          return (date);\n        }\n      }\n      return(\"\");\n    },\n    isDataFresh: function() {\n      if (this.internal_feature !== undefined) {\n        let properties = this.internal_feature.properties;\n        let site_type = this.internal_feature.properties.site_type;\n        return (FeatureUtils.isDataFresh(properties[site_type].advisory));\n      }\n      return(false);\n    }\n\n\n  }\n}\n</script>\n<style scoped>\n.advisory_icon {\n  height: 25px;\n  width: 25px;\n}\n\n.page-background {\n  background-color: #FFFFFF;\n  /*background-color: #003D7ED8;*/\n}\n.data-graph {\n  color: #003D7ED8\n}\n\n</style>\n"]}]}