{"remainingRequest":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/station_graph.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/station_graph.vue","mtime":1682360357860},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js","mtime":1682361371663},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1682361372188}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IERhdGFBUEkgZnJvbSAiLi4vdXRpbGl0aWVzL3Jlc3RfYXBpIjsKCmltcG9ydCBXUVBsb3QgZnJvbSAiQC9jb21wb25lbnRzL3NjYXR0ZXJfcGxvdCI7CmltcG9ydCBIaWdoY2hhcnRzIGZyb20gJ2hpZ2hjaGFydHMnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1N0YXRpb25HcmFwaCcsCiAgICBwcm9wczogewogICAgICAgICdzaXRlX2lkJzoge3R5cGU6IFN0cmluZywgZGVmYXVsdDogJ1NpdGUgSWQnfSwKICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgV1FQbG90CiAgICB9LAogICAgZGF0YSgpCiAgICB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWN0aXZlQnRuOiA2MCwKICAgICAgICAgICAgY2hhcnRUeXBlQnRuOiAncGllJywKICAgICAgICAgICAgc2l0ZV9kZXNjcmlwdGlvbjogJycsCiAgICAgICAgICAgIC8vZ3JhcGhfZGF0YTogW10sCiAgICAgICAgICAgIGNoYXJ0X2RhdGE6IFtdLAogICAgICAgICAgICBzY2F0dGVyX3Bsb3RfZGF0YTogW10sCiAgICAgICAgICAgIHBpZV9jaGFydF9kYXRhOiBbXSwKICAgICAgICAgICAgc2NhdHRlcl9jaGFydF9yZWY6IHVuZGVmaW5lZCwKICAgICAgICAgICAgcGllX2NoYXJ0X3JlZjogdW5kZWZpbmVkLAogICAgICAgICAgICByZWNvcmRzX2Fib3ZlX21heF90aHJlc2hvbGQ6IDAsCiAgICAgICAgICAgIHBlcmNlbnRhZ2VfZXhjZWVkczogMCwKICAgICAgICAgICAgdG90YWxfcmVjb3JkczogMCwKICAgICAgICAgICAgc2NhdHRlcl9jaGFydF9vcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjaGFydDogewogICAgICAgICAgICAgICAgICAgIC8vYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwKScsCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNlcmllc1R5cGU6ICdzY2F0dGVyJywKICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogMCwKICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiA2NSwKICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IDIwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY3JlZGl0czogewogICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiBudWxsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY29sb3JzOiBbJyMzMzMzMzMnXSwKICAgICAgICAgICAgICAgIHhBeGlzOiB7CiAgICAgICAgICAgICAgICAgICAgZW5kT25UaWNrOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHNob3dMYXN0TGFiZWw6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdEYXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAzMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJywKICAgICAgICAgICAgICAgICAgICBkYXRlVGltZUxhYmVsRm9ybWF0czogewogICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICclZSAlYiBcJyV5JywKICAgICAgICAgICAgICAgICAgICAgICAgd2VlazogJyVlICViIFwnJXknLAogICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJyVlICViIFwnJXknLAogICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiAnJWUgJWIgXCcleScsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDIwCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB0aWNrV2lkdGg6IDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB5QXhpczogewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsb2dhcml0aG1pYycsCiAgICAgICAgICAgICAgICAgICAgc2hvd0ZpcnN0TGFiZWw6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHRpY2tQb3NpdGlvbmVyOiBmdW5jdGlvbiAobWluLCBtYXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWluOwogICAgICAgICAgICAgICAgICAgICAgICBtYXg7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aWNrcyA9IFsxLCAxMCwgMTAwLCAxMDAwLCAxMDAwMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gdGlja3MubGVuZ3RoOwoKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzW2ldID0gdGhpcy52YWwybGluKHRpY2tzW2ldKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aWNrczsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlIDwgMTAgPyAxIDogdGhpcy52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb2xvciI6ICIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBncmlkTGluZVdpZHRoOiAwLAogICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQmFjdGVyaWEgcGVyIDEwMCBtTCcsCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGxvdEJhbmRzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzk2Y2EyZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLiRzdG9yZS5zdGF0ZS5hZHZpc29yeV9saW1pdHMubG93Lm1pbmltdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogdGhpcy4kc3RvcmUuc3RhdGUuYWR2aXNvcnlfbGltaXRzLmhpLm1pbmltdW0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjREIxQTBGJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IHRoaXMuJHN0b3JlLnN0YXRlLmFkdmlzb3J5X2xpbWl0cy5oaS5taW5pbXVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86IDEwMDAwCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxzdHJvbmc+RGF0ZTo8L3N0cm9uZz4gJyArIEhpZ2hjaGFydHMuZGF0ZUZvcm1hdCgnJWUgJUIgJVknLCB0aGlzLngpICsgJzxiciAvPjxzdHJvbmc+QmFjdGVyaWEgbGV2ZWw6PC9zdHJvbmc+ICcgKyBNYXRoLnJvdW5kKHRoaXMueSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTdGF0aW9uJywKICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXQogICAgICAgICAgICAgICAgfV0KCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBpZV9jaGFydF9vcHRpb25zOgogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBjaGFydDogewogICAgICAgICAgICAgICAgICAgIHBsb3RCYWNrZ3JvdW5kQ29sb3I6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgcGxvdEJvcmRlcldpZHRoOiBudWxsLAogICAgICAgICAgICAgICAgICAgIHBsb3RTaGFkb3c6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbCwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgLyp0b29sdGlwOiB7CiAgICAgICAgICAgICAgICAgICAgcG9pbnRGb3JtYXQ6ICd7c2VyaWVzLm5hbWV9OiA8Yj57cG9pbnQucGVyY2VudGFnZTouMWZ9JTwvYj4nCiAgICAgICAgICAgICAgICAgIH0sKi8KICAgICAgICAgICAgICAgICAgLyphY2Nlc3NpYmlsaXR5OiB7CiAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHsKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlU3VmZml4OiAnJScKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sKi8KICAgICAgICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICBwaWU6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbG93UG9pbnRTZWxlY3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJywKICAgICAgICAgICAgICAgICAgICAgIGRhdGFMYWJlbHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnPGI+e3BvaW50Lm5hbWV9PC9iPjoge3BvaW50Lnl9JwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTYW1wbGUgQ291bnRzJywKICAgICAgICAgICAgICAgICAgICBjb2xvckJ5UG9pbnQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogW10KICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBjb25zb2xlLmRlYnVnKCJTdGF0aW9uR3JhcGggbW91bnRlZC4iKTsKCiAgICAgICAgLy9XZSBhcmVuJ3QgcGFzc2luZyB0aGUgcHJvcHMgaW4gdGhlIHZ1ZSByb3V0ZSBwYXRoLCBzbyB3ZSBjaGVjayB0aGUgcGFyYW1zIHRvIHRoZW4gc2V0IHRoZSBwcm9wZXJ0aWVzLgogICAgICAgIGlmKCdwYXJhbXMnIGluIHRoaXMuJHJvdXRlKSB7CiAgICAgICAgICAgIGlmKCdzaXRlX2lkJyBpbiB0aGlzLiRyb3V0ZS5wYXJhbXMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuc2l0ZV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5zaXRlX2lkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCdzaXRlX25hbWUnIGluIHRoaXMuJHJvdXRlLnBhcmFtcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5zaXRlX25hbWUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuc2l0ZV9uYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8qCiAgICAgICAgICAgIGlmKCdncmFwaF9kYXRhJyBpbiB0aGlzLiRyb3V0ZS5wYXJhbXMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhfZGF0YSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5ncmFwaF9kYXRhOwogICAgICAgICAgICB9CiAgICAgICAgICAgICovCiAgICAgICAgfQoKICAgICAgICAvL1dlIHB1bGwgdGhlIGxhc3QgNjAgZGF5cyB3b3J0aCBvZiBkYXRhIHRvIHNob3cuCiAgICAgICAgdGhpcy5zY2F0dGVyX2NoYXJ0X3JlZiA9IHRoaXMuJHJlZnMuc3RhdGlvbl9zY2F0dGVyX2dyYXBoOwogICAgICAgIHRoaXMucGllX2NoYXJ0X3JlZiA9IHRoaXMuJHJlZnMuc3RhdGlvbl9waWVfY2hhcnQ7CiAgICAgICAgdGhpcy5wYXN0RGF0YSg2MCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGRheXNCdXR0b25DbGljayhidXR0b25fY2xpY2tlZCwgZGF5cykgewogICAgICAgICAgICB0aGlzLmFjdGl2ZUJ0biA9IGRheXM7ICAvL1dlIHVzZSB0aGlzIHRvIHRvZ2dsZSB0aGUgYWN0aXZlIGNsYXNzIG9uIHRoZSBidXR0b24u4omg4omgCiAgICAgICAgICAgIHRoaXMucGFzdERhdGEoZGF5cyk7CiAgICAgICAgfSwKICAgICAgICBjaGFydFR5cGVzQnV0dG9uQ2xpY2soYnV0dG9uX2NsaWNrZWQsIGNoYXJ0X3R5cGUpIHsKICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiY2hhcnRUeXBlc0J1dHRvbkNsaWNrIGNhbGxlZCwgY2hhcnQgdHlwZTogIiArIGNoYXJ0X3R5cGUpOwogICAgICAgICAgICB0aGlzLmNoYXJ0VHlwZSA9IGNoYXJ0X3R5cGU7CiAgICAgICAgICAgIGlmKGNoYXJ0X3R5cGUgPT09ICdzY2F0dGVyJykgewogICAgICAgICAgICAgIGlmKHRoaXMuc2NhdHRlcl9jaGFydF9yZWYgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyX2NoYXJ0X3JlZiA9IHRoaXMuJHJlZnMuc3RhdGlvbl9zY2F0dGVyX2dyYXBoOwogICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyX2NoYXJ0X3JlZi5jaGFydC54QXhpc1swXS5zZXRFeHRyZW1lcyhtb21lbnQudXRjKCkuc3VidHJhY3QodGhpcy5hY3RpdmVCdG4sICJkYXlzIikudmFsdWVPZigpLCBtb21lbnQudXRjKCkudmFsdWVPZigpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaWYodGhpcy4kcmVmcy5zdGF0aW9uX3BpZV9jaGFydCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHRoaXMucGllX2NoYXJ0X3JlZiA9IHRoaXMuJHJlZnMuc3RhdGlvbl9waWVfY2hhcnQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBwYXN0RGF0YShkYXlzX2JhY2spIHsKICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiUmV0cmlldmluZzogIiArIGRheXNfYmFjayArICIgZGF5cyBvZiBkYXRhLiIpCiAgICAgICAgICAgIGxldCB2bT10aGlzOwogICAgICAgICAgICBsZXQgbG9jYXRpb25fc2l0ZV9uYW1lID0gdGhpcy4kc3RvcmUuc3RhdGUuc2l0ZV9uYW1lOwogICAgICAgICAgICBsZXQgc3RhcnRfZGF0ZSA9IG1vbWVudCgpLnN1YnRyYWN0KGRheXNfYmFjaywgJ2RheXMnKS5mb3JtYXQoIllZWVktTU0tREQgMDA6MDA6MDAiKTsKICAgICAgICAgICAgbGV0IGVuZF9kYXRlID0gbW9tZW50LnV0YygpLmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbTpzcyIpOwogICAgICAgICAgICAvL3RoaXMuZ3JhcGhfZGF0YSA9IFtdOwogICAgICAgICAgICB0aGlzLnBpZV9jaGFydF9kYXRhID0gW107CiAgICAgICAgICAgIHRoaXMuc2NhdHRlcl9wbG90X2RhdGEgPSBbXTsKICAgICAgICAgICAgRGF0YUFQSS5HZXRTaXRlRGF0YShsb2NhdGlvbl9zaXRlX25hbWUsIHRoaXMuc2l0ZV9pZCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdm0uZmVhdHVyZV9kYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICBsZXQgc2l0ZV90eXBlID0gdm0uZmVhdHVyZV9kYXRhLnByb3BlcnRpZXMuc2l0ZV90eXBlOwogICAgICAgICAgICAgICAgICAgIGlmIChzaXRlX3R5cGUgaW4gdm0uZmVhdHVyZV9kYXRhLnByb3BlcnRpZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdm0uZmVhdHVyZV9kYXRhLnByb3BlcnRpZXNbc2l0ZV90eXBlXS5hZHZpc29yeS5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlYykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGVfdmFsID0gbW9tZW50KHJlYy5kYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnNjYXR0ZXJfcGxvdF9kYXRhLnB1c2goW2RhdGVfdmFsLnZhbHVlT2YoKSwgcmVjLnZhbHVlXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZih2bS5zY2F0dGVyX2NoYXJ0X3JlZiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc2NhdHRlcl9jaGFydF9yZWYuY2hhcnQueEF4aXNbMF0uc2V0RXh0cmVtZXMobW9tZW50LnV0YygpLnN1YnRyYWN0KGRheXNfYmFjaywgImRheXMiKS52YWx1ZU9mKCksIG1vbWVudC51dGMoKS52YWx1ZU9mKCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNhbGNTdGF0cyh2bSwgdm0uc2NhdHRlcl9wbG90X2RhdGEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpOwoKICAgICAgICB9LAogICAgICAgIGNhbGNTdGF0cyh2bSwgZGF0YV9hcnJheSkgewogICAgICAgICAgY29uc29sZS5kZWJ1ZygiY2FsY1N0YXRzIGNhbGxlZC4iKTsKICAgICAgICAgIHZtLnJlY29yZHNfYWJvdmVfbWF4X3RocmVzaG9sZCA9IDA7CiAgICAgICAgICB2bS50b3RhbF9yZWNvcmRzID0gMDsKICAgICAgICAgIGlmKGRhdGFfYXJyYXkubGVuZ3RoKSB7CiAgICAgICAgICAgIGRhdGFfYXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocmVjKSB7CiAgICAgICAgICAgICAgaWYgKHJlY1sxXSA+PSB2bS4kc3RvcmUuc3RhdGUuYWR2aXNvcnlfbGltaXRzLmhpLm1pbmltdW0pIHsKICAgICAgICAgICAgICAgIHZtLnJlY29yZHNfYWJvdmVfbWF4X3RocmVzaG9sZCArPSAxOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZtLnRvdGFsX3JlY29yZHMgPSBkYXRhX2FycmF5Lmxlbmd0aDsKICAgICAgICAgICAgdm0ucGllX2NoYXJ0X2RhdGEgPSBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogJ1NhbXBsZSBDb3VudCcsCiAgICAgICAgICAgICAgICB5OiB2bS50b3RhbF9yZWNvcmRzLAogICAgICAgICAgICAgICAgY29sb3I6ICdncmV5JwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogJ1NhbXBsZXMgQWJvdmUgTGltaXQnLAogICAgICAgICAgICAgICAgeTogdm0ucmVjb3Jkc19hYm92ZV9tYXhfdGhyZXNob2xkLAogICAgICAgICAgICAgICAgY29sb3I6ICdyZWQnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgICAgIHZtLnBlcmNlbnRhZ2VfZXhjZWVkcyA9IHBhcnNlSW50KCh2bS5yZWNvcmRzX2Fib3ZlX21heF90aHJlc2hvbGQgLyB2bS50b3RhbF9yZWNvcmRzKSAqIDEwMC4wKTsKICAgICAgICAgICAgLy9sZXQgbWVkaWFuX3ZhbCA9IDA7CiAgICAgICAgICAgIC8vbGV0IHZhbHMgPSBkYXRhX2FycmF5Lm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAvLyAgcmV0dXJuIHhbMV0KICAgICAgICAgICAgLy99KQogICAgICAgICAgICAvL21lZGlhbl92YWwgPSBtZWFuKHZhbHMpOwogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJUb3RhbCBTYW1wbGVzOiAiICsgdm0udG90YWxfcmVjb3JkcyArICJCYWQgU2FtcGxlczogIiArIHZtLnJlY29yZHNfYWJvdmVfbWF4X3RocmVzaG9sZCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvbkNsb3NlKCkgewogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJvbkNsb3NlIG1vZGFsX2dyYXBoX2Nsb3NlZCBldmVudCBlbWl0dGVkLiIpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJtb2RhbF9ncmFwaF9jbG9zZWQiKTsKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgY2hhcnRUeXBlOiB7CiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmNoYXJ0VHlwZUJ0bjsKICAgICAgICB9LAogICAgICAgIHNldDogZnVuY3Rpb24oY2hhcnRfdHlwZSkgewogICAgICAgICAgdGhpcy5jaGFydFR5cGVCdG4gPSBjaGFydF90eXBlOwogICAgICAgIH0KICAgICAgfQogICAgICAvKgogICAgICBncmFwaF9kYXRhOiB7CiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICAgIGNvbnNvbGUuZGVidWcoImdyYXBoX2RhdGEgY29tcHV0ZWQgY2FsbGVkLiIpCiAgICAgICAgICByZXR1cm4odGhpcy5jaGFydF9kYXRhKTsKICAgICAgICB9LAogICAgICAgIHNldDogZnVuY3Rpb24oc2NhdHRlcl9wbG90X2RhdGEsIHBpZV9jaGFydF9kYXRhKSB7CiAgICAgICAgICBpZih0aGlzLmNoYXJ0VHlwZUJ0biA9PSAnc2NhdHRlcicpIHsKICAgICAgICAgICAgdGhpcy5jaGFydF9kYXRhID0gc2NhdHRlcl9wbG90X2RhdGE7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jaGFydF9kYXRhID0gcGllX2NoYXJ0X2RhdGE7CiAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgfSwKICAgICAgY2hhcnRfb3B0aW9uczogZnVuY3Rpb24oKSB7CiAgICAgICAgY29uc29sZS5kZWJ1ZygiY2hhcnRfb3B0aW9ucyBjb21wdXRlZCBjYWxsZWQuIikKICAgICAgICBpZih0aGlzLmNoYXJ0VHlwZUJ0biA9PSAnc2NhdHRlcicpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnNjYXR0ZXJfY2hhcnRfb3B0aW9uczsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5waWVfY2hhcnRfb3B0aW9uczsKICAgICAgICB9CiAgICAgIH0KICAgICAgKi8KICAgIH0KCn0K"},{"version":3,"sources":["station_graph.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"station_graph.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"card\">\n            <div class=\"card-body data-graph\">\n                <button type=\"button\" class=\"app-button-style btn btn-primary avenir-font background_color\" @click=\"$router.go(-1)\">&laquo; Back</button>\n                <div class=\"mt-4 card-title font-avenir\">\n                    <h2>Site: {{site_name}}</h2>\n                </div>\n                <div class=\"card-subtitle avenir-font-light\">\n                   <h3>ID: {{site_id}}</h3>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div ref=\"days_buttons\" class=\"btn-group\">\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 30}\" @click=\"daysButtonClick($event, 30)\">30 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 60}\" @click=\"daysButtonClick($event,60)\">60 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 90}\" @click=\"daysButtonClick($event,90)\">90 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 180}\" @click=\"daysButtonClick($event,180)\">180 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 365}\" @click=\"daysButtonClick($event,365)\">365 days</button>\n                        </div>\n                    </div>\n                </div>\n              <div class=\"row mt-4\">\n                <div class=\"col-12\">\n                  <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: chartTypeBtn === 'pie'}\" @click=\"chartTypesButtonClick($event, 'pie')\">Pie Chart</button>\n                  <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: chartTypeBtn === 'scatter'}\" @click=\"chartTypesButtonClick($event,'scatter')\">Scatter Plot</button>\n                </div>\n              </div>\n                <!---\n                <div class=\"row mt-4\">\n                  <div class=\"col-12\">\n                    <table>\n                      <tr>\n                        <td >Number of Samples</td>\n                        <td class=\"ml-3\">{{total_records}}</td>\n                      </tr>\n                      <tr>\n                        <td>Exceeds Threshold</td>\n                        <td class=\"ml-3\">{{records_above_max_threshold}}</td>\n                      </tr>\n                    </table>\n                    </div>\n                </div>\n                -->\n                <div v-show=\"chartType === 'scatter'\" class=\"row mt-4\">\n                    <div ref=\"scatter_plot_column\" class=\"col-12 full-graph\">\n                        <WQPlot\n                                ref=\"station_scatter_graph\"\n                                :chart_options=\"scatter_chart_options\"\n                                id='station_scatter_graph'\n                                :station_data=\"scatter_plot_data\">\n                        </WQPlot>\n                    </div>\n                </div>\n                <div v-show=\"chartType === 'pie'\" class=\"row mt-4\">\n                    <div ref=\"pie_chart_column\" class=\"col-6 full-graph\">\n                        <WQPlot ref=\"station_pie_chart\"\n                                :chart_options=\"pie_chart_options\"\n                                id='station_pie_chart'\n                                :station_data=\"pie_chart_data\">\n                        </WQPlot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import moment from 'moment';\n    import DataAPI from \"../utilities/rest_api\";\n\n    import WQPlot from \"@/components/scatter_plot\";\n    import Highcharts from 'highcharts';\n\n    export default {\n        name: 'StationGraph',\n        props: {\n            'site_id': {type: String, default: 'Site Id'},\n        },\n        components: {\n            WQPlot\n        },\n        data()\n        {\n            return {\n                activeBtn: 60,\n                chartTypeBtn: 'pie',\n                site_description: '',\n                //graph_data: [],\n                chart_data: [],\n                scatter_plot_data: [],\n                pie_chart_data: [],\n                scatter_chart_ref: undefined,\n                pie_chart_ref: undefined,\n                records_above_max_threshold: 0,\n                percentage_exceeds: 0,\n                total_records: 0,\n                scatter_chart_options: {\n                    chart: {\n                        //backgroundColor: 'rgba(0,0,0,0)',\n                        defaultSeriesType: 'scatter',\n                        marginRight: 0,\n                        marginLeft: 65,\n                        marginTop: 20\n                    },\n                    credits: {\n                        enabled: false\n                    },\n                    title: {\n                        text: null\n                    },\n                    colors: ['#333333'],\n                    xAxis: {\n                        endOnTick: true,\n                        showLastLabel: false,\n                        title: {\n                            text: 'Date',\n                            offset: 30\n                        },\n                        type: 'datetime',\n                        dateTimeLabelFormats: {\n                            day: '%e %b \\'%y',\n                            week: '%e %b \\'%y',\n                            month: '%e %b \\'%y',\n                            year: '%e %b \\'%y',\n                        },\n                        labels: {\n                            rotation: 0,\n                            y: 20\n                        },\n                        tickWidth: 0\n                    },\n                    yAxis: {\n                        type: 'logarithmic',\n                        showFirstLabel: false,\n                        tickPositioner: function (min, max) {\n                            min;\n                            max;\n                            var ticks = [1, 10, 100, 1000, 10000],\n                                i = ticks.length;\n\n                            while (i--)\n                                ticks[i] = this.val2lin(ticks[i]);\n\n                            return ticks;\n                        },\n                        labels: {\n                            formatter: function () {\n                                return this.value < 10 ? 1 : this.value;\n                            },\n                            style: {\n                                \"color\": \"#FFFFFF\"\n                            }\n                        },\n                        gridLineWidth: 0,\n                        lineWidth: 1,\n                        title: {\n                            text: 'Bacteria per 100 mL',\n                            margin: 0\n                        },\n                        plotBands: [\n                            {\n                                color: '#96ca2d',\n                                from: this.$store.state.advisory_limits.low.minimum,\n                                to: this.$store.state.advisory_limits.hi.minimum\n                            },\n                            {\n                                color: '#DB1A0F',\n                                from: this.$store.state.advisory_limits.hi.minimum,\n                                to: 10000\n                            }\n                        ]\n                    },\n                    tooltip: {\n                        formatter: function () {\n                            return '<strong>Date:</strong> ' + Highcharts.dateFormat('%e %B %Y', this.x) + '<br /><strong>Bacteria level:</strong> ' + Math.round(this.y);\n                        }\n                    },\n                    legend: {\n                        enabled: false\n                    },\n                    series: [{\n                        name: 'Station',\n                        data: []\n                    }]\n\n                },\n                pie_chart_options:\n                    {\n                      chart: {\n                        plotBackgroundColor: null,\n                        plotBorderWidth: null,\n                        plotShadow: false,\n                        type: 'pie'\n                      },\n                      title: {\n                        text: null,\n                      },\n                      /*tooltip: {\n                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n                      },*/\n                      /*accessibility: {\n                        point: {\n                          valueSuffix: '%'\n                        }\n                      },*/\n                      plotOptions: {\n                        pie: {\n                          allowPointSelect: true,\n                          cursor: 'pointer',\n                          dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b>: {point.y}'\n                          }\n                        }\n                      },\n                      series: [{\n                        name: 'Sample Counts',\n                        colorByPoint: true,\n                        data: []\n                      }]\n                    }\n            }\n        },\n        mounted() {\n            console.debug(\"StationGraph mounted.\");\n\n            //We aren't passing the props in the vue route path, so we check the params to then set the properties.\n            if('params' in this.$route) {\n                if('site_id' in this.$route.params)\n                {\n                    this.site_id = this.$route.params.site_id;\n                }\n                if('site_name' in this.$route.params)\n                {\n                    this.site_name = this.$route.params.site_name;\n                }\n                /*\n                if('graph_data' in this.$route.params)\n                {\n                    this.graph_data = this.$route.params.graph_data;\n                }\n                */\n            }\n\n            //We pull the last 60 days worth of data to show.\n            this.scatter_chart_ref = this.$refs.station_scatter_graph;\n            this.pie_chart_ref = this.$refs.station_pie_chart;\n            this.pastData(60);\n        },\n        methods: {\n            daysButtonClick(button_clicked, days) {\n                this.activeBtn = days;  //We use this to toggle the active class on the button.≠≠\n                this.pastData(days);\n            },\n            chartTypesButtonClick(button_clicked, chart_type) {\n                console.debug(\"chartTypesButtonClick called, chart type: \" + chart_type);\n                this.chartType = chart_type;\n                if(chart_type === 'scatter') {\n                  if(this.scatter_chart_ref === undefined) {\n                    this.scatter_chart_ref = this.$refs.station_scatter_graph;\n                    this.scatter_chart_ref.chart.xAxis[0].setExtremes(moment.utc().subtract(this.activeBtn, \"days\").valueOf(), moment.utc().valueOf());\n                  }\n                }\n                else\n                {\n                  if(this.$refs.station_pie_chart == undefined) {\n                    this.pie_chart_ref = this.$refs.station_pie_chart;\n                  }\n                }\n            },\n            pastData(days_back) {\n                console.debug(\"Retrieving: \" + days_back + \" days of data.\")\n                let vm=this;\n                let location_site_name = this.$store.state.site_name;\n                let start_date = moment().subtract(days_back, 'days').format(\"YYYY-MM-DD 00:00:00\");\n                let end_date = moment.utc().format(\"YYYY-MM-DD HH:mm:ss\");\n                //this.graph_data = [];\n                this.pie_chart_data = [];\n                this.scatter_plot_data = [];\n                DataAPI.GetSiteData(location_site_name, this.site_id, start_date, end_date)\n                    .then(response => {\n                        vm.feature_data = response.data;\n                        let site_type = vm.feature_data.properties.site_type;\n                        if (site_type in vm.feature_data.properties) {\n                            vm.feature_data.properties[site_type].advisory.results.forEach(function (rec) {\n                                let date_val = moment(rec.date);\n                                vm.scatter_plot_data.push([date_val.valueOf(), rec.value]);\n                            });\n                            if(vm.scatter_chart_ref !== undefined) {\n                              vm.scatter_chart_ref.chart.xAxis[0].setExtremes(moment.utc().subtract(days_back, \"days\").valueOf(), moment.utc().valueOf());\n                            }\n                            vm.calcStats(vm, vm.scatter_plot_data);\n                        }\n                    })\n                    .catch(error => console.error(error));\n\n            },\n            calcStats(vm, data_array) {\n              console.debug(\"calcStats called.\");\n              vm.records_above_max_threshold = 0;\n              vm.total_records = 0;\n              if(data_array.length) {\n                data_array.forEach(function (rec) {\n                  if (rec[1] >= vm.$store.state.advisory_limits.hi.minimum) {\n                    vm.records_above_max_threshold += 1;\n                  }\n                });\n                vm.total_records = data_array.length;\n                vm.pie_chart_data = [\n                  {\n                    name: 'Sample Count',\n                    y: vm.total_records,\n                    color: 'grey'\n                  },\n                  {\n                    name: 'Samples Above Limit',\n                    y: vm.records_above_max_threshold,\n                    color: 'red'\n                  }\n                ]\n                vm.percentage_exceeds = parseInt((vm.records_above_max_threshold / vm.total_records) * 100.0);\n                //let median_val = 0;\n                //let vals = data_array.map(function (x) {\n                //  return x[1]\n                //})\n                //median_val = mean(vals);\n                console.debug(\"Total Samples: \" + vm.total_records + \"Bad Samples: \" + vm.records_above_max_threshold);\n              }\n            },\n            onClose() {\n                console.debug(\"onClose modal_graph_closed event emitted.\");\n                this.$emit(\"modal_graph_closed\");\n            }\n        },\n        computed: {\n          chartType: {\n            get: function() {\n              return this.chartTypeBtn;\n            },\n            set: function(chart_type) {\n              this.chartTypeBtn = chart_type;\n            }\n          }\n          /*\n          graph_data: {\n            get: function() {\n              console.debug(\"graph_data computed called.\")\n              return(this.chart_data);\n            },\n            set: function(scatter_plot_data, pie_chart_data) {\n              if(this.chartTypeBtn == 'scatter') {\n                this.chart_data = scatter_plot_data;\n              }\n              else {\n                this.chart_data = pie_chart_data;\n              }\n\n            }\n          },\n          chart_options: function() {\n            console.debug(\"chart_options computed called.\")\n            if(this.chartTypeBtn == 'scatter') {\n              return this.scatter_chart_options;\n            }\n            else {\n              return this.pie_chart_options;\n            }\n          }\n          */\n        }\n\n    }\n</script>\n<style scoped>\n    .full-graph {\n        width: 100%;\n        height: 100%;\n    }\n    .data-graph {\n        background-color: rgba(0, 61, 126, .85);\n        color: #FFFFFF\n    }\n\n</style>\n"]}]}