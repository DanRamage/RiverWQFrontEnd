{"remainingRequest":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/nws_alerts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/nws_alerts.vue","mtime":1682360357866},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js","mtime":1682361371663},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1682361372188}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSaXBDdXJyZW50TW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL3JpcF9jdXJyZW50X21vZGFsIjsKaW1wb3J0IE5XU0ZvcmVjYXN0QmxvY2sgZnJvbSAiQC9jb21wb25lbnRzL253c19mb3JlY2FzdF9ibG9jayI7CmltcG9ydCBUaWRlQ2hhcnRCbG9jayBmcm9tICJAL2NvbXBvbmVudHMvdGlkZV9wcmVkaWN0aW9uIjsKaW1wb3J0IFVWSW5kZXhNb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvdXZfaW5kZXhfbW9kYWwiOwppbXBvcnQgTldTQXBpIGZyb20gIkAvdXRpbGl0aWVzL253c19yZXN0X2FwaSI7CmltcG9ydCBEYXRhQVBJIGZyb20gIkAvdXRpbGl0aWVzL3Jlc3RfYXBpIjsKaW1wb3J0IG53c19hbGVydCBmcm9tICJAL3V0aWxpdGllcy9ud3NfY2xhc3NlcyI7CmltcG9ydCB7Y29tcGFzc19hcnJheX0gZnJvbSAiQC91dGlsaXRpZXMvZGlyZWN0aW9uX3RvX2NvbXBhc3MiOwoKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdOV1NBbGVydHNQYWdlJywKICAgIHByb3BzOiB7CiAgICAgICdsb25naXR1ZGUnOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OiB1bmRlZmluZWR9LAogICAgICAnbGF0aXR1ZGUnOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OiB1bmRlZmluZWR9LAogICAgICAncG9zdF9jb2RlJzoge3R5cGU6IFN0cmluZywgZGVmYXVsdDogdW5kZWZpbmVkfQogICAgfSwKICBjb21wb25lbnRzOiB7CiAgICBSaXBDdXJyZW50TW9kYWwsCiAgICBOV1NGb3JlY2FzdEJsb2NrLAogICAgVGlkZUNoYXJ0QmxvY2ssCiAgICBVVkluZGV4TW9kYWwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByaXBfY3VycmVudF9hbGVydDogIkRhdGEgVW5hdmFpbGFibGUiLAogICAgICByaXBfY3VycmVudF9ud3NfZXZlbnQ6ICcnLAogICAgICByaXBfY3VycmVudF9kZXRhaWxzOiAiTm8gY3VycmVudCBhbGVydHMiLAogICAgICBud3NfcmlwX2N1cnJlbnRfZXZlbnQ6ICIiLAogICAgICBzaG93X3JpcF9jdXJyZW50X21vZGFsOiBmYWxzZSwKICAgICAgcmlwX2N1cnJlbnRfcmVjb3JkOiB1bmRlZmluZWQsCiAgICAgIG53c19hbGVydHM6IFtdLAogICAgICBmb3JlY2FzdF9yZWNvcmQ6IHVuZGVmaW5lZCwKICAgICAgcG9pbnRfaW5mb3JtYXRpb246IHVuZGVmaW5lZCwKICAgICAgY2xvc2V0X29ic19zdGF0aW9uOiB1bmRlZmluZWQsCiAgICAgIGxhdGVzdF9vYnNfZGF0YTogdW5kZWZpbmVkLAogICAgICBzaG93X3V2X2luZGV4X21vZGFsOiBmYWxzZSwKICAgICAgdXZfaW5kZXhfZGF0YTogdW5kZWZpbmVkLAogICAgICBjdXJyZW50X3V2X2luZGV4OiB1bmRlZmluZWQsCiAgICAgIGN1cnJlbnRfdXZfaW5kZXhfcmF0aW5nOiAnRGF0YSBVbmF2YWlsYWJsZScsCiAgICAgIGN1cnJlbnRfdXZfY29sb3JfY2xhc3M6ICcnLAogICAgICB0aWRlX3N0YXRpb246IHVuZGVmaW5lZCwKICAgICAgdGlkZV9jaGFydF9kYXRhOiB1bmRlZmluZWQKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJpcF9jdXJyZW50X3JlY29yZCA9IG5ldyBud3NfYWxlcnQoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBsZXQgdm0gPSB0aGlzOwogICAgY29uc29sZS5kZWJ1ZygiTldTQWxlcnRzUGFnZSBtb3VudGVkLiIpOwogICAgLyoKICAgIFdlIGRvIHRoZSBwb2ludCBxdWVyeSB0byBnZXQgdGhlIGxpbmtzIGZvciB0aGUgZm9yZWNhc3QgYW5kIG9ic2VydmF0aW9uIGxpbmtzIGZvciB0aGUgZ3JpZC4KICAgICovCiAgICBOV1NBcGkuR2V0TldTUG9pbnRJbmZvcm1hdGlvbih0aGlzLmxhdGl0dWRlLCB0aGlzLmxvbmdpdHVkZSkudGhlbihwb2ludF9pbmZvID0+IHsKICAgICAgaWYocG9pbnRfaW5mbyAhPSB1bmRlZmluZWQpCiAgICAgIHsKICAgICAgICB2bS5wb2ludF9pbmZvcm1hdGlvbiA9IHBvaW50X2luZm8KICAgICAgICBOV1NBcGkuR2V0T2JzZXJ2aW5nU3RhdGlvbnNmb3JHcmlkKHZtLnBvaW50X2luZm9ybWF0aW9uLm9ic2VydmF0aW9uU3RhdGlvbnMpLnRoZW4oc3RhdGlvbl9saXN0ID0+IHsKICAgICAgICAgIHZtLmNsb3NldF9vYnNfc3RhdGlvbiA9IHN0YXRpb25fbGlzdC5mZWF0dXJlc1swXTsKICAgICAgICAgIE5XU0FwaS5HZXROV1NTdGF0aW9uTGF0ZXN0T2JzZXJ2YXRpb25zKHtzdGF0aW9uX2NvZGU6IHZtLmNsb3NldF9vYnNfc3RhdGlvbi5wcm9wZXJ0aWVzLnN0YXRpb25JZGVudGlmaWVyfSkKICAgICAgICAgICAgICAudGhlbihvYnNfZGF0YSA9PiB7CiAgICAgICAgICAgICAgICB2bS5sYXRlc3Rfb2JzX2RhdGEgPSBvYnNfZGF0YTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgdm0uZm9yZWNhc3RfcmVjb3JkID0gdW5kZWZpbmVkOwogICAgICAgICAgTldTQXBpLkdldE5XU0ZvcmVjYXN0KHt1cmw6dm0ucG9pbnRfaW5mb3JtYXRpb24uZm9yZWNhc3R9KS50aGVuKGZvcmVjYXN0ID0+IHsKICAgICAgICAgICAgaWYoZm9yZWNhc3QgIT0gdW5kZWZpbmVkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaWYoJ3Byb3BlcnRpZXMnIGluIGZvcmVjYXN0KQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZtLmZvcmVjYXN0X3JlY29yZCA9IGZvcmVjYXN0LnByb3BlcnRpZXM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYgKCdzdGF0dXMnIGluIGZvcmVjYXN0KSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlN0YXR1czogIiArIGZvcmVjYXN0LnN0YXR1cyArICIgIiArIGZvcmVjYXN0LmRldGFpbCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIHJldHJpZXZlIHRoZSBmb3JlY2FzdCwgbm8gZGF0YSBwYXlsb2FkIG9yIGVycm9yIHBheWxvYWQuIik7CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZXJyb3I9PiB7CiAgICAgICAgICAgIHZtLmZvcmVjYXN0X3JlY29yZCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgbGV0IGVycm9yX21lc3NhZ2UgPSAnJzsKICAgICAgICAgICAgbGV0IHN0YXR1c19jb2RlID0gNDA0OwogICAgICAgICAgICBpZiAoJ3Jlc3BvbnNlJyBpbiBlcnJvciAmJiBlcnJvci5yZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgc3RhdHVzX2NvZGUgPSBlcnJvci5yZXNwb25zZS5zdGF0dXM7CiAgICAgICAgICAgICAgaWYgKCdlcnJvcicgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgaWYgKCdtZXNzYWdlJyBpbiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJTdGF0dXMgY29kZTogIiArIHN0YXR1c19jb2RlICsgIi4gRXJyb3IgTXNnOiAiICsgZXJyb3JfbWVzc2FnZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIH0pCiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiR2V0TldTUG9pbnRJbmZvcm1hdGlvbiByZXR1cm5lZCB1bmRlZmluZWQuIikKICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBsZXQgZXJyb3JfbWVzc2FnZSA9ICcnOwogICAgICBsZXQgc3RhdHVzX2NvZGUgPSA0MDQ7CiAgICAgIGlmKCdyZXNwb25zZScgaW4gZXJyb3IgJiYgZXJyb3IucmVzcG9uc2UgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHN0YXR1c19jb2RlID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzOwogICAgICAgIGlmICgnZXJyb3InIGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIGlmICgnbWVzc2FnZScgaW4gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcikgewogICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvci5tZXNzYWdlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5lcnJvcigiU3RhdHVzIGNvZGU6ICIgKyBzdGF0dXNfY29kZSArIi4gRXJyb3IgTXNnOiAiICsgZXJyb3JfbWVzc2FnZSk7CiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfQogICAgfSk7CgogICAgLyoKICAgIE5XU0FwaS5HZXROV1Nab25lcyh7bG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSwgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGV9KS50aGVuKCh6b25lX2RhdGEpPT57CiAgICAgIHpvbmVfZGF0YTsKICAgICAgdm07CiAgICB9KTsKICAgICovCiAgICAvL3tsb25naXR1ZGU6IHRoaXMubG9uZ2l0dWRlLCBsYXRpdHVkZTogdGhpcy5sYXRpdHVkZSwgZXZlbnQ6ICdSaXAgQ3VycmVudCBTdGF0ZW1lbnQnfQogICAgTldTQXBpLkdldE5XU0FjdGl2ZUFsZXJ0cyh7bG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSwgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGV9KS50aGVuKGFsZXJ0cyA9PiB7CiAgICAgIHZtLnJpcF9jdXJyZW50X2FsZXJ0ID0KICAgICAgdm0uc3VyZl9hbGVydCA9ICdObyBBbGVydHMnOwogICAgICB2bS5yaXBfY3VycmVudF9kZXRhaWxzID0KICAgICAgdm0uc3VyZl9hbGVydF9kZXRhaWxzID0gIk5vIGN1cnJlbnQgYWxlcnRzIjsKCiAgICAgIGxldCByaXBfY3VycmVudF9mb3VuZCA9IGZhbHNlOwogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYWxlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IGZlYXR1cmUgPSBhbGVydHNbaV07CiAgICAgICAgbGV0IGFsZXJ0ID0gbmV3IG53c19hbGVydCgpOwogICAgICAgIGFsZXJ0LnBhcnNlX2FwaV9yZXNwb25zZShmZWF0dXJlKTsKICAgICAgICAgdm0ubndzX2FsZXJ0c1tmZWF0dXJlLnByb3BlcnRpZXMuZXZlbnRdID0gYWxlcnQ7CiAgICAgICAgIGlmKGZlYXR1cmUucHJvcGVydGllcy5ldmVudCA9PSAnUmlwIEN1cnJlbnQgU3RhdGVtZW50JykKICAgICAgICAgewogICAgICAgICAgIC8vdm0ucmlwX2N1cnJlbnRfcmVjb3JkLnBhcnNlX2FwaV9yZXNwb25zZShmZWF0dXJlKTsKICAgICAgICAgICB2bS5yaXBfY3VycmVudF9hbGVydCA9ICdSaXAgQ3VycmVudHMgUHJlc2VudCcKICAgICAgICAgICB2bS5yaXBfY3VycmVudF9yZWNvcmQgPSBmZWF0dXJlOwogICAgICAgICAgIHZtLnJpcF9jdXJyZW50X253c19ldmVudCA9IGZlYXR1cmUucHJvcGVydGllcy5ldmVudDsKICAgICAgICAgICB2bS5yaXBfY3VycmVudF9kZXRhaWxzID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uOwogICAgICAgICAgIHJpcF9jdXJyZW50X2ZvdW5kID0gdHJ1ZQogICAgICAgICB9CiAgICAgICAgIGVsc2UgaWYoZmVhdHVyZS5wcm9wZXJ0aWVzLmV2ZW50LnNlYXJjaCgvc3VyZi9pKSkKICAgICAgICB7CiAgICAgICAgICB2bS5zdXJmX2FsZXJ0ID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmV2ZW50OwogICAgICAgICAgdm0uc3VyZl9hbGVydF9kZXRhaWxzID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uOwogICAgICAgIH0KICAgICAgfQogICAgICBpZighcmlwX2N1cnJlbnRfZm91bmQpCiAgICAgIHsKICAgICAgICB2bS5yaXBfY3VycmVudF9hbGVydCA9ICJObyBBbGVydHMiCiAgICAgIH0KICAgIH0pCiAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICB2bS5yaXBfY3VycmVudF9hbGVydCA9CiAgICAgIHZtLnN1cmZfYWxlcnQgPSAnRGF0YSBVbmF2YWlsYWJsZSc7CiAgICAgIHZtLnJpcF9jdXJyZW50X2RldGFpbHMgPQogICAgICB2bS5zdXJmX2FsZXJ0X2RldGFpbHMgPSAnJzsKICAgICAgRGF0YUFQSS5lcnJvcl9oYW5kbGVyKCdHZXROV1NBY3RpdmVBbGVydHMnLCBlcnJvcik7CiAgICB9KTsKICAgIE5XU0FwaS5FUEFHZXRVVkluZGV4KHtwb3N0X2NvZGU6IHRoaXMucG9zdF9jb2RlfSkudGhlbih1dl9pbmRleCA9PiB7CiAgICAgIHZtLnV2X2luZGV4X2RhdGEgPSB1dl9pbmRleDsKICAgICAgdm0uZmluZF91dl9pbmRleCgpOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICB2bS51dl9pbmRleF9kYXRhID0gdW5kZWZpbmVkOwogICAgICBEYXRhQVBJLmVycm9yX2hhbmRsZXIoJ0VQQUdldFVWSW5kZXgnLCBlcnJvcik7CiAgICB9KTsKICAgIE5XU0FwaS5OT0FBRmluZFRpZGVTdGF0aW9uKHRoaXMubGF0aXR1ZGUsIHRoaXMubG9uZ2l0dWRlLCAyMCkudGhlbih0aWRlX3N0YXRpb25zID0+IHsKICAgICAgdGhpcy50aWRlX3N0YXRpb24gPSB1bmRlZmluZWQ7CiAgICAgIC8vV2UgbG9vcCB0aGUgcmVzdWx0cyBsb29raW5nIGZvciB0aGUgY2xvc2VzdCBoYXJtb25pYyBzdGF0aW9uLgogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGlkZV9zdGF0aW9ucy5zdGF0aW9uTGlzdC5sZW5ndGg7IGkrPTEpCiAgICAgIHsKICAgICAgICAvL1RoZSBSIHN0YXRpb25zIGFyZSBoYXJtb25pYyBzdGF0aW9ucyB3aGljaCB3aWxsIGhhdmUgdGhlIHByZWRpY3Rpb25zLgogICAgICAgIGlmKHRpZGVfc3RhdGlvbnMuc3RhdGlvbkxpc3RbaV0uc3RhdGlvblR5cGUgPT0gJ1InKQogICAgICAgIHsKICAgICAgICAgIHZtLnRpZGVfc3RhdGlvbiA9IHRpZGVfc3RhdGlvbnMuc3RhdGlvbkxpc3RbaV07CiAgICAgICAgICBicmVhawogICAgICAgIH0KICAgICAgfQogICAgICBpZih0aGlzLnRpZGVfc3RhdGlvbiAhPSB1bmRlZmluZWQpCiAgICAgIHsKICAgICAgICBOV1NBcGkuTk9BQVRpZGVRdWVyeSgndG9kYXknLAogICAgICAgICAgICB2bS50aWRlX3N0YXRpb24uc3RhdGlvbklkLAogICAgICAgICAgICAncHJlZGljdGlvbnMnLAogICAgICAgICAgICAnU1RORCcsCiAgICAgICAgICAgICdsc3RfbGR0JywKICAgICAgICAgICAgJ2hpbG8nLAogICAgICAgICAgICAnZW5nbGlzaCcpLnRoZW4odGlkZV9jaGFydF9kYXRhID0+IHsKICAgICAgICAgICAgICB2bS50aWRlX2NoYXJ0X2RhdGEgPSB0aWRlX2NoYXJ0X2RhdGE7CiAgICAgICAgfSkKICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICB2bS50aWRlX3N0YXRpb24gPSAnJzsKICAgICAgdm0udGlkZV9jaGFydF9kYXRhID0gdW5kZWZpbmVkOwogICAgICBEYXRhQVBJLmVycm9yX2hhbmRsZXIoJ05PQUFGaW5kVGlkZVN0YXRpb24nLCBlcnJvcik7CgogICAgfSkKICAgIGNvbnNvbGUuZGVidWcoIk5XU0FsZXJ0c1BhZ2UgbW91bnRlZCBmaW5pc2hlZC4iKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRleHRfY29sb3I6IGZ1bmN0aW9uKGFsZXJ0X21lc3NhZ2UpIHsKICAgICAgbGV0IHRleHRfY29sb3IgPSAnbm9fYWxlcnQnOwogICAgICBpZihhbGVydF9tZXNzYWdlLm1hdGNoKC93YXJuaW5nL2kpKQogICAgICB7CiAgICAgICAgdGV4dF9jb2xvciA9ICd3YXJuaW5nJzsKICAgICAgfQogICAgICBlbHNlIGlmKGFsZXJ0X21lc3NhZ2UubWF0Y2goL2Fkdmlzb3J5L2kpKQogICAgICB7CiAgICAgICAgdGV4dF9jb2xvciA9ICdhZHZpc29yeSc7CiAgICAgIH0KICAgICAgZWxzZSBpZihhbGVydF9tZXNzYWdlLm1hdGNoKC93YXRjaC9pKSkKICAgICAgewogICAgICAgIHRleHRfY29sb3IgPSAnd2F0Y2gnOwogICAgICB9CiAgICAgIGVsc2UgaWYoYWxlcnRfbWVzc2FnZS5tYXRjaCgvc3RhdGVtZW50L2kpKQogICAgICB7CiAgICAgICAgdGV4dF9jb2xvciA9ICd3YXJuaW5nJzsKICAgICAgfQogICAgICByZXR1cm4gdGV4dF9jb2xvcjsKICAgIH0sCiAgICBmb3JlY2FzdF9wZXJpb2Q6IGZ1bmN0aW9uKHBlcmlvZF9udW1iZXIpIHsKICAgICAgaWYodGhpcy5mb3JlY2FzdF9yZWNvcmQgIT0gdW5kZWZpbmVkKQogICAgICB7CiAgICAgICAgaWYocGVyaW9kX251bWJlciA8IHRoaXMuZm9yZWNhc3RfcmVjb3JkLnBlcmlvZHMubGVuZ3RoKQogICAgICAgIHsKICAgICAgICAgIHJldHVybih0aGlzLmZvcmVjYXN0X3JlY29yZC5wZXJpb2RzW3BlcmlvZF9udW1iZXJdKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJQZXJpb2QgbnVtYmVyIHJlcXVlc3Q6ICIgKyBwZXJpb2RfbnVtYmVyICsgIiBvdXRzaWRlIHJhbmdlLiIpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4odW5kZWZpbmVkKTsKICAgIH0sCiAgICBmaW5kX3V2X2luZGV4OiBmdW5jdGlvbigpIHsKICAgICAgbGV0IHV2X2luZGV4ID0gLTE7CiAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleCA9IC0xOwogICAgICB0aGlzLmN1cnJlbnRfdXZfaW5kZXhfcmF0aW5nID0gJ0RhdGEgVW5hdmFpbGFibGUnOwogICAgICB0aGlzLmN1cnJlbnRfdXZfY29sb3JfY2xhc3MgPSAnJzsKICAgICAgaWYodGhpcy51dl9pbmRleF9kYXRhICE9IHVuZGVmaW5lZCkgewogICAgICAgIGxldCBub3cgPSBtb21lbnQoKTsKICAgICAgICAvKlNldCB0aGUgZGVmYXVsdCBpbmRleCBhbmQgcmF0aW5nIHRvIDAuIFVWIEluZGV4IGZvcmVjYXN0IHN0YXJ0cyBhdCA3YW0sIHNvIGlmIHdlJ3JlIGNoZWNraW5nIGJlZm9yZSB0aGVuCiAgICAgICAgd2Ugd29uJ3QgaGF2ZSBhIGZvcmVjYXN0LgogICAgICAgICAqLwogICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleCA9IDA7CiAgICAgICAgdGhpcy5jdXJyZW50X3V2X2luZGV4X3JhdGluZyA9ICdMb3cnCiAgICAgICAgZm9yKHZhciBpPSAwOyBpIDwgdGhpcy51dl9pbmRleF9kYXRhLmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgIGxldCB1dl9mb3JlY2FzdF90aW1lID0gbW9tZW50KHRoaXMudXZfaW5kZXhfZGF0YVtpXS5EQVRFX1RJTUUsICdNTU0vRC9ZWVlZIEggQScpOwogICAgICAgICAgaWYobm93LmhvdXIoKSA9PSB1dl9mb3JlY2FzdF90aW1lLmhvdXIoKSkKICAgICAgICAgIHsKICAgICAgICAgICAgdXZfaW5kZXggPSB0aGlzLnV2X2luZGV4X2RhdGFbaV0uVVZfVkFMVUU7CiAgICAgICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleCA9IHV2X2luZGV4OwogICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRfdXZfaW5kZXggPD0gMikKICAgICAgICAgICAgewogICAgICAgICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleF9yYXRpbmcgPSAiTG93IjsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfY29sb3JfY2xhc3MgPSAndXZfaW5kZXhfbG93JzsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmKHRoaXMuY3VycmVudF91dl9pbmRleCA+IDIgJiYgdGhpcy5jdXJyZW50X3V2X2luZGV4IDw9IDUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfaW5kZXhfcmF0aW5nID0gIk1vZGVyYXRlIjsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfY29sb3JfY2xhc3MgPSAndXZfaW5kZXhfbW9kZXJhdGUnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5jdXJyZW50X3V2X2luZGV4ID4gNSAmJiB0aGlzLmN1cnJlbnRfdXZfaW5kZXggPD0gNykKICAgICAgICAgICAgewogICAgICAgICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleF9yYXRpbmcgPSAiSGlnaCI7CiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3V2X2NvbG9yX2NsYXNzID0gJ3V2X2luZGV4X2hpZ2gnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5jdXJyZW50X3V2X2luZGV4ID4gNyAmJiB0aGlzLmN1cnJlbnRfdXZfaW5kZXggPD0gMTApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXZfaW5kZXhfcmF0aW5nID0gIlZlcnkgSGlnaCI7CiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3V2X2NvbG9yX2NsYXNzID0gJ3V2X2luZGV4X3ZlcnlfaGlnaCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZih0aGlzLmN1cnJlbnRfdXZfaW5kZXggPiAxMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgIHRoaXMuY3VycmVudF91dl9pbmRleF9yYXRpbmcgPSAiRXh0cmVtZSI7CiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3V2X2NvbG9yX2NsYXNzID0gJ3V2X2luZGV4X2V4dHJlbWUnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHV2X2luZGV4OwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjdXJyZW50X3dpbmRfc3BlZWRfZGlyZWN0aW9uOiBmdW5jdGlvbigpIHsKICAgICAgaWYodGhpcy5sYXRlc3Rfb2JzX2RhdGEgIT0gdW5kZWZpbmVkKQogICAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmKHRoaXMubGF0ZXN0X29ic19kYXRhLndpbmRTcGVlZC52YWx1ZSAhPT0gbnVsbCkgewogICAgICAgICAgICBsZXQgd2luZF9zcGRfbXBoID0gdGhpcy5sYXRlc3Rfb2JzX2RhdGEud2luZFNwZWVkLnZhbHVlICogMC42MjEzNzE7CiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMubGF0ZXN0X29ic19kYXRhLndpbmREaXJlY3Rpb24udmFsdWUgJSAzNjA7CiAgICAgICAgICAgIGxldCBkaXJfaW5kZXggPSBwYXJzZUludChpbmRleCAvIDIyLjUpOwogICAgICAgICAgICBsZXQgY29tcGFzc192YWwgPSBjb21wYXNzX2FycmF5W2Rpcl9pbmRleF07CiAgICAgICAgICAgIHJldHVybiAod2luZF9zcGRfbXBoLnRvRml4ZWQoKSArICJNcGggIiArIGNvbXBhc3NfdmFsKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybigiTi9BIik7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmV4Y2VwdGlvbihlKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuKCcnKTsKCiAgICB9LAogICAgY3VycmVudF9haXJfdGVtcGVyYXR1cmU6IGZ1bmN0aW9uKCkgewogICAgICBpZih0aGlzLmxhdGVzdF9vYnNfZGF0YSAhPSB1bmRlZmluZWQpCiAgICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgaWYodGhpcy5sYXRlc3Rfb2JzX2RhdGEudGVtcGVyYXR1cmUudmFsdWUgIT09IG51bGwpIHsKICAgICAgICAgICAgbGV0IHRlbXBfZiA9ICh0aGlzLmxhdGVzdF9vYnNfZGF0YS50ZW1wZXJhdHVyZS52YWx1ZSAqIDkgLyA1KSArIDMyOwogICAgICAgICAgICByZXR1cm4gKHRlbXBfZi50b0ZpeGVkKCkgKyAiIEYiKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybigiTi9BIik7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmV4Y2VwdGlvbihlKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuKCcnKTsKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["nws_alerts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nws_alerts.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-3 fs-5\">\n        Temperature: {{current_air_temperature}}\n      </div>\n      <div class=\"col-sm-3  fs-5\">\n        Wind: {{current_wind_speed_direction}}\n      </div>\n    </div>\n    <div v-if=\"tide_chart_data !== undefined\">\n      <div class=\"row\">\n        <div class=\"col fs-4\" >\n          Tides\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-12\">\n          <TideChartBlock :tide_station=\"tide_station.stationName\"\n                          :tide_station_id=\"tide_station.stationId\"\n                          :tide_data=\"tide_chart_data.predictions\"></TideChartBlock>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-12 fs-4\">\n        Alerts\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-3 fs-5\">\n        <div>\n          <a @click=\"show_rip_current_modal=true\"> Rip Currents <i class=\"bi bi-info-circle info-icon\"></i></a>\n        </div>\n        <div class=\"ms-5\" :class=\"text_color(rip_current_nws_event)\">\n          {{rip_current_alert}}\n        </div>\n        <RipCurrentModal v-show=\"show_rip_current_modal\"\n                       @close-rip-current-modal=\"show_rip_current_modal = false\"\n                       :alert_message=\"rip_current_details\">\n        </RipCurrentModal>\n      </div>\n      <div class=\"col-sm-3 fs-5\">\n        <div v-if=\"uv_index_data !== undefined\">\n          <div>\n            <a @click=\"show_uv_index_modal=true\">UV Index <i class=\"bi bi-info-circle info-icon\"></i></a>\n          </div>\n          <div class=\"ms-5\" :class=\"current_uv_color_class\">\n            {{this.current_uv_index}}-{{current_uv_index_rating}}\n          </div>\n        </div>\n        <UVIndexModal current_uv_index=\"current_uv_index_rating\" v-show=\"show_uv_index_modal\" @close-uv-index-modal=\"show_uv_index_modal = false\"></UVIndexModal>\n      </div>\n    </div>\n    <div v-if=\"forecast_record !== undefined\" class=\"row mt-3\">\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_0\" :forecast=\"forecast_period(0)\"></NWSForecastBlock>\n      </div>\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_1\" :forecast=\"forecast_period(1)\"></NWSForecastBlock>\n      </div>\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_2\" :forecast=\"forecast_period(2)\"></NWSForecastBlock>\n      </div>\n      <div class=\"col-sm-3\">\n        <NWSForecastBlock forecast_block_id=\"forecast_3\" :forecast=\"forecast_period(3)\"></NWSForecastBlock>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import RipCurrentModal from \"@/components/rip_current_modal\";\n  import NWSForecastBlock from \"@/components/nws_forecast_block\";\n  import TideChartBlock from \"@/components/tide_prediction\";\n  import UVIndexModal from \"@/components/uv_index_modal\";\n  import NWSApi from \"@/utilities/nws_rest_api\";\n  import DataAPI from \"@/utilities/rest_api\";\n  import nws_alert from \"@/utilities/nws_classes\";\n  import {compass_array} from \"@/utilities/direction_to_compass\";\n\n  import moment from \"moment\";\n\n  export default {\n    name: 'NWSAlertsPage',\n      props: {\n        'longitude': {type: Number, default: undefined},\n        'latitude': {type: Number, default: undefined},\n        'post_code': {type: String, default: undefined}\n      },\n    components: {\n      RipCurrentModal,\n      NWSForecastBlock,\n      TideChartBlock,\n      UVIndexModal\n    },\n    data() {\n      return {\n        rip_current_alert: \"Data Unavailable\",\n        rip_current_nws_event: '',\n        rip_current_details: \"No current alerts\",\n        nws_rip_current_event: \"\",\n        show_rip_current_modal: false,\n        rip_current_record: undefined,\n        nws_alerts: [],\n        forecast_record: undefined,\n        point_information: undefined,\n        closet_obs_station: undefined,\n        latest_obs_data: undefined,\n        show_uv_index_modal: false,\n        uv_index_data: undefined,\n        current_uv_index: undefined,\n        current_uv_index_rating: 'Data Unavailable',\n        current_uv_color_class: '',\n        tide_station: undefined,\n        tide_chart_data: undefined\n      }\n    },\n    created() {\n      this.rip_current_record = new nws_alert();\n    },\n    mounted() {\n      let vm = this;\n      console.debug(\"NWSAlertsPage mounted.\");\n      /*\n      We do the point query to get the links for the forecast and observation links for the grid.\n      */\n      NWSApi.GetNWSPointInformation(this.latitude, this.longitude).then(point_info => {\n        if(point_info != undefined)\n        {\n          vm.point_information = point_info\n          NWSApi.GetObservingStationsforGrid(vm.point_information.observationStations).then(station_list => {\n            vm.closet_obs_station = station_list.features[0];\n            NWSApi.GetNWSStationLatestObservations({station_code: vm.closet_obs_station.properties.stationIdentifier})\n                .then(obs_data => {\n                  vm.latest_obs_data = obs_data;\n                })\n            vm.forecast_record = undefined;\n            NWSApi.GetNWSForecast({url:vm.point_information.forecast}).then(forecast => {\n              if(forecast != undefined)\n              {\n                if('properties' in forecast)\n                {\n                  vm.forecast_record = forecast.properties;\n                }\n                else {\n                  if ('status' in forecast) {\n                    console.error(\"Status: \" + forecast.status + \" \" + forecast.detail);\n                  }\n                  else {\n                    console.error(\"Failed to retrieve the forecast, no data payload or error payload.\");\n\n                  }\n                }\n              }\n            }).catch(error=> {\n              vm.forecast_record = undefined;\n              let error_message = '';\n              let status_code = 404;\n              if ('response' in error && error.response !== undefined) {\n                status_code = error.response.status;\n                if ('error' in error.response.data) {\n                  if ('message' in error.response.data.error) {\n                    error_message = error.response.data.error.message;\n                  }\n                } else {\n                  error_message = error.response.data;\n                }\n                console.error(\"Status code: \" + status_code + \". Error Msg: \" + error_message);\n              } else {\n                console.error(error);\n              }\n            });\n\n            })\n        }\n        else {\n          console.error(\"GetNWSPointInformation returned undefined.\")\n        }\n      }).catch(error => {\n        let error_message = '';\n        let status_code = 404;\n        if('response' in error && error.response !== undefined) {\n          status_code = error.response.status;\n          if ('error' in error.response.data) {\n            if ('message' in error.response.data.error) {\n              error_message = error.response.data.error.message;\n            }\n          } else {\n            error_message = error.response.data;\n          }\n          console.error(\"Status code: \" + status_code +\". Error Msg: \" + error_message);\n        }\n        else{\n          console.error(error);\n        }\n      });\n\n      /*\n      NWSApi.GetNWSZones({longitude: this.longitude, latitude: this.latitude}).then((zone_data)=>{\n        zone_data;\n        vm;\n      });\n      */\n      //{longitude: this.longitude, latitude: this.latitude, event: 'Rip Current Statement'}\n      NWSApi.GetNWSActiveAlerts({longitude: this.longitude, latitude: this.latitude}).then(alerts => {\n        vm.rip_current_alert =\n        vm.surf_alert = 'No Alerts';\n        vm.rip_current_details =\n        vm.surf_alert_details = \"No current alerts\";\n\n        let rip_current_found = false;\n        for(var i = 0; i < alerts.length; i++) {\n          let feature = alerts[i];\n          let alert = new nws_alert();\n          alert.parse_api_response(feature);\n           vm.nws_alerts[feature.properties.event] = alert;\n           if(feature.properties.event == 'Rip Current Statement')\n           {\n             //vm.rip_current_record.parse_api_response(feature);\n             vm.rip_current_alert = 'Rip Currents Present'\n             vm.rip_current_record = feature;\n             vm.rip_current_nws_event = feature.properties.event;\n             vm.rip_current_details = feature.properties.description;\n             rip_current_found = true\n           }\n           else if(feature.properties.event.search(/surf/i))\n          {\n            vm.surf_alert = feature.properties.event;\n            vm.surf_alert_details = feature.properties.description;\n          }\n        }\n        if(!rip_current_found)\n        {\n          vm.rip_current_alert = \"No Alerts\"\n        }\n      })\n      .catch(error => {\n        vm.rip_current_alert =\n        vm.surf_alert = 'Data Unavailable';\n        vm.rip_current_details =\n        vm.surf_alert_details = '';\n        DataAPI.error_handler('GetNWSActiveAlerts', error);\n      });\n      NWSApi.EPAGetUVIndex({post_code: this.post_code}).then(uv_index => {\n        vm.uv_index_data = uv_index;\n        vm.find_uv_index();\n      }).catch(error => {\n        vm.uv_index_data = undefined;\n        DataAPI.error_handler('EPAGetUVIndex', error);\n      });\n      NWSApi.NOAAFindTideStation(this.latitude, this.longitude, 20).then(tide_stations => {\n        this.tide_station = undefined;\n        //We loop the results looking for the closest harmonic station.\n        for(var i = 0; i < tide_stations.stationList.length; i+=1)\n        {\n          //The R stations are harmonic stations which will have the predictions.\n          if(tide_stations.stationList[i].stationType == 'R')\n          {\n            vm.tide_station = tide_stations.stationList[i];\n            break\n          }\n        }\n        if(this.tide_station != undefined)\n        {\n          NWSApi.NOAATideQuery('today',\n              vm.tide_station.stationId,\n              'predictions',\n              'STND',\n              'lst_ldt',\n              'hilo',\n              'english').then(tide_chart_data => {\n                vm.tide_chart_data = tide_chart_data;\n          })\n        }\n      }).catch(error => {\n        vm.tide_station = '';\n        vm.tide_chart_data = undefined;\n        DataAPI.error_handler('NOAAFindTideStation', error);\n\n      })\n      console.debug(\"NWSAlertsPage mounted finished.\");\n    },\n    methods: {\n      text_color: function(alert_message) {\n        let text_color = 'no_alert';\n        if(alert_message.match(/warning/i))\n        {\n          text_color = 'warning';\n        }\n        else if(alert_message.match(/advisory/i))\n        {\n          text_color = 'advisory';\n        }\n        else if(alert_message.match(/watch/i))\n        {\n          text_color = 'watch';\n        }\n        else if(alert_message.match(/statement/i))\n        {\n          text_color = 'warning';\n        }\n        return text_color;\n      },\n      forecast_period: function(period_number) {\n        if(this.forecast_record != undefined)\n        {\n          if(period_number < this.forecast_record.periods.length)\n          {\n            return(this.forecast_record.periods[period_number]);\n          }\n          else {\n            console.error(\"Period number request: \" + period_number + \" outside range.\");\n          }\n        }\n        return(undefined);\n      },\n      find_uv_index: function() {\n        let uv_index = -1;\n        this.current_uv_index = -1;\n        this.current_uv_index_rating = 'Data Unavailable';\n        this.current_uv_color_class = '';\n        if(this.uv_index_data != undefined) {\n          let now = moment();\n          /*Set the default index and rating to 0. UV Index forecast starts at 7am, so if we're checking before then\n          we won't have a forecast.\n           */\n          this.current_uv_index = 0;\n          this.current_uv_index_rating = 'Low'\n          for(var i= 0; i < this.uv_index_data.length; i++)\n          {\n            let uv_forecast_time = moment(this.uv_index_data[i].DATE_TIME, 'MMM/D/YYYY H A');\n            if(now.hour() == uv_forecast_time.hour())\n            {\n              uv_index = this.uv_index_data[i].UV_VALUE;\n              this.current_uv_index = uv_index;\n              if(this.current_uv_index <= 2)\n              {\n                this.current_uv_index_rating = \"Low\";\n                this.current_uv_color_class = 'uv_index_low';\n              }\n              else if(this.current_uv_index > 2 && this.current_uv_index <= 5)\n              {\n                this.current_uv_index_rating = \"Moderate\";\n                this.current_uv_color_class = 'uv_index_moderate';\n              }\n              else if(this.current_uv_index > 5 && this.current_uv_index <= 7)\n              {\n                this.current_uv_index_rating = \"High\";\n                this.current_uv_color_class = 'uv_index_high';\n              }\n              else if(this.current_uv_index > 7 && this.current_uv_index <= 10)\n              {\n                this.current_uv_index_rating = \"Very High\";\n                this.current_uv_color_class = 'uv_index_very_high';\n              }\n              else if(this.current_uv_index > 10)\n              {\n                this.current_uv_index_rating = \"Extreme\";\n                this.current_uv_color_class = 'uv_index_extreme';\n              }\n\n              break;\n            }\n          }\n        }\n        return uv_index;\n      },\n    },\n    computed: {\n      current_wind_speed_direction: function() {\n        if(this.latest_obs_data != undefined)\n        {\n          try {\n            if(this.latest_obs_data.windSpeed.value !== null) {\n              let wind_spd_mph = this.latest_obs_data.windSpeed.value * 0.621371;\n              let index = this.latest_obs_data.windDirection.value % 360;\n              let dir_index = parseInt(index / 22.5);\n              let compass_val = compass_array[dir_index];\n              return (wind_spd_mph.toFixed() + \"Mph \" + compass_val);\n            }\n            return(\"N/A\");\n          }\n          catch (e) {\n            console.exception(e);\n          }\n        }\n        return('');\n\n      },\n      current_air_temperature: function() {\n        if(this.latest_obs_data != undefined)\n        {\n          try {\n            if(this.latest_obs_data.temperature.value !== null) {\n              let temp_f = (this.latest_obs_data.temperature.value * 9 / 5) + 32;\n              return (temp_f.toFixed() + \" F\");\n            }\n            return(\"N/A\");\n          }\n          catch (e) {\n            console.exception(e);\n          }\n        }\n        return('');\n      },\n    }\n  }\n</script>\n<style>\n</style>\n"]}]}