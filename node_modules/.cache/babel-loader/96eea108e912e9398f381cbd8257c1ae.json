{"remainingRequest":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/camera_graph.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/camera_graph.vue","mtime":1682360357868},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js","mtime":1682361371663},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1682361372188}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IERhdGFBUEkgZnJvbSAiLi4vdXRpbGl0aWVzL3Jlc3RfYXBpIjsKaW1wb3J0IEhpZ2hjaGFydHMgZnJvbSAnaGlnaGNoYXJ0cyc7CmltcG9ydCBFdmVudFV0aWxzIGZyb20gIi4uL3V0aWxpdGllcy9hbmFseXRpY3NfZnVuY3MiOwppbXBvcnQgeyBEcm9wZG93blBsdWdpbiwgRm9ybURhdGVwaWNrZXJQbHVnaW4gfSBmcm9tICdib290c3RyYXAtdnVlJzsKVnVlLnVzZShEcm9wZG93blBsdWdpbik7ClZ1ZS51c2UoRm9ybURhdGVwaWNrZXJQbHVnaW4pOwppbXBvcnQgeyBtaW4sIG1heCwgbWVhbiwgbWVkaWFuIH0gZnJvbSAic2ltcGxlLXN0YXRpc3RpY3MiOwpWdWUudXNlKG1pbiwgbWF4LCBtZWFuLCBtZWRpYW4pOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhbWVyYUdyYXBoJywKICBwcm9wczogewogICAgJ3NpdGVfaWQnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ1NpdGUgSWQnCiAgICB9LAogICAgJ2NhbWVyYV9uYW1lJzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhcnRfZGF0ZTogbW9tZW50KCkuc3VidHJhY3QoNywgJ2RheXMnKS5mb3JtYXQoIllZWVktTU0tREQiKSwKICAgICAgZW5kX2RhdGU6IG1vbWVudCgpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLAogICAgICBncmFwaF9pZDogImNhbWVyYV9ncmFwaCIsCiAgICAgIHNpdGVfZGVzY3JpcHRpb246ICcnLAogICAgICBvYmplY3RfY291bnRfZGlzcGxheV9zdHJpbmc6ICdQZW9wbGUnLAogICAgICBvYmplY3RfY291bnRfdHlwZTogJ3BlcnNvbicsCiAgICAgIGdyYXBoX2RhdGE6IFtdLAogICAgICBjaGFydF9yZWY6IHVuZGVmaW5lZCwKICAgICAgY2hhcnQ6IHVuZGVmaW5lZCwKICAgICAgY2hhcnRfb3B0aW9uczogewogICAgICAgIGNoYXJ0OiB7CiAgICAgICAgICB0eXBlOiAnY29sdW1uJwogICAgICAgIH0sCiAgICAgICAgY3JlZGl0czogewogICAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgICB9LAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0OiAiQXZlcmFnZSBQZW9wbGUgRGV0ZWN0ZWQgUGVyIEhvdXIiCiAgICAgICAgfSwKICAgICAgICBjb2xvcnM6IFsnIzMzMzMzMyddLAogICAgICAgIHRpbWU6IHsKICAgICAgICAgIHRpbWV6b25lOiAnQW1lcmljYS9OZXdfWW9yaycsCiAgICAgICAgICB1c2VVVEM6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgZW5kT25UaWNrOiB0cnVlLAogICAgICAgICAgc2hvd0xhc3RMYWJlbDogZmFsc2UsCiAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICB0ZXh0OiAnRGF0ZScsCiAgICAgICAgICAgIG9mZnNldDogMzAKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAnZGF0ZXRpbWUnLAogICAgICAgICAgZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHsKICAgICAgICAgICAgZGF5OiAnJWEgJWUgJWIgXCcleScsCiAgICAgICAgICAgIGhvdXI6ICIlSTolTSAlcCIKICAgICAgICAgIH0sCgogICAgICAgICAgLyoKICAgICAgICAgIGRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CiAgICAgICAgICAgICAgd2VlazogJyVlICViIFwnJXknLAogICAgICAgICAgICAgIG1vbnRoOiAnJWUgJWIgXCcleScsCiAgICAgICAgICAgICAgeWVhcjogJyVlICViIFwnJXknLAogICAgICAgICAgfSwKICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgIHk6IDIwCiAgICAgICAgICB9LAogICAgICAgICAgKi8KICAgICAgICAgIHRpY2tJbnRlcnZhbDogMzYwMCAqIDEwMDAKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICBzaG93Rmlyc3RMYWJlbDogZmFsc2UsCiAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICB0ZXh0OiAnUGVvcGxlIGNvdW50JywKICAgICAgICAgICAgbWFyZ2luOiAyMAogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIoKSB7CiAgICAgICAgICAgIHZhciBkYXRlX3RpbWUgPSBtb21lbnQodGhpcy54KTsKICAgICAgICAgICAgcmV0dXJuICc8c3Ryb25nPkRhdGU6PC9zdHJvbmc+ICcgKyBkYXRlX3RpbWUuZm9ybWF0KCdERCBNTU0gWVlZWSBoaDptbSBhJykgKyAnPGJyIC8+PHN0cm9uZz5Db3VudDo8L3N0cm9uZz4gJyArIE1hdGgucm91bmQodGhpcy55KTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6ICdTdGF0aW9uJywKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgY29uc29sZS5kZWJ1ZygiQ2FtZXJhR3JhcGggbW91bnRlZC4iKTsgLy9XZSBhcmVuJ3QgcGFzc2luZyB0aGUgcHJvcHMgaW4gdGhlIHZ1ZSByb3V0ZSBwYXRoLCBzbyB3ZSBjaGVjayB0aGUgcGFyYW1zIHRvIHRoZW4gc2V0IHRoZSBwcm9wZXJ0aWVzLgoKICAgIGlmICgncGFyYW1zJyBpbiB0aGlzLiRyb3V0ZSkgewogICAgICBpZiAoJ3NpdGVfaWQnIGluIHRoaXMuJHJvdXRlLnBhcmFtcykgewogICAgICAgIHRoaXMuc2l0ZV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5zaXRlX2lkOwogICAgICB9CgogICAgICBpZiAoJ3NpdGVfbmFtZScgaW4gdGhpcy4kcm91dGUucGFyYW1zKSB7CiAgICAgICAgdGhpcy5zaXRlX25hbWUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuc2l0ZV9uYW1lOwogICAgICB9CgogICAgICBpZiAoJ2NhbWVyYV9uYW1lJyBpbiB0aGlzLiRyb3V0ZS5wYXJhbXMpIHsKICAgICAgICB0aGlzLmNhbWVyYV9uYW1lID0gdGhpcy4kcm91dGUucGFyYW1zLmNhbWVyYV9uYW1lOwogICAgICB9CiAgICB9CgogICAgdmFyIHN0YXJ0X2RhdGUgPSBtb21lbnQoKS5zdWJ0cmFjdCg3LCAnZGF5cycpOwogICAgdmFyIGVuZF9kYXRlID0gbW9tZW50KCk7CiAgICB0aGlzLmdldENhbWVyYURhdGEodGhpcy5jYW1lcmFfbmFtZSwgJ3BlcnNvbicsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlKTsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgdm0uY2hhcnQgPSBuZXcgSGlnaGNoYXJ0cy5jaGFydCh2bS5ncmFwaF9pZCwgdm0uY2hhcnRfb3B0aW9ucyk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9iamVjdFR5cGVTZWxlY3RlZDogZnVuY3Rpb24gb2JqZWN0VHlwZVNlbGVjdGVkKGV2ZW50LCBvYmplY3RfdHlwZSwgdHlwZV9kaXNwbGF5X3N0cmluZykgewogICAgICB0aGlzLm9iamVjdF9jb3VudF9kaXNwbGF5X3N0cmluZyA9IHR5cGVfZGlzcGxheV9zdHJpbmc7CiAgICAgIHRoaXMub2JqZWN0X2NvdW50X3R5cGUgPSBvYmplY3RfdHlwZTsKICAgIH0sCiAgICBncmFwaENvdW50czogZnVuY3Rpb24gZ3JhcGhDb3VudHMoKSB7CiAgICAgIHRoaXMuZ3JhcGhfZGF0YSA9IFtdOwogICAgICB0aGlzLmNoYXJ0LnNlcmllc1swXS5zZXREYXRhKHRoaXMuZ3JhcGhfZGF0YSk7CiAgICAgIHRoaXMuY2hhcnQueUF4aXNbMF0uc2V0VGl0bGUoewogICAgICAgIHRleHQ6IHRoaXMub2JqZWN0X2NvdW50X2Rpc3BsYXlfc3RyaW5nICsgJyBjb3VudCcKICAgICAgfSk7CiAgICAgIHRoaXMuY2hhcnQuc2V0VGl0bGUoewogICAgICAgIHRleHQ6ICJBdmVyYWdlICIgKyB0aGlzLm9iamVjdF9jb3VudF9kaXNwbGF5X3N0cmluZyArICIgRGV0ZWN0ZWQgUGVyIEhvdXIiCiAgICAgIH0pOwogICAgICB0aGlzLmdldENhbWVyYURhdGEodGhpcy5jYW1lcmFfbmFtZSwgdGhpcy5vYmplY3RfY291bnRfdHlwZSwgdGhpcy5zdGFydF9kYXRlLCB0aGlzLmVuZF9kYXRlKTsKICAgICAgdmFyIGxhYmVsID0gdGhpcy5jYW1lcmFfbmFtZSArICIgIiArIHRoaXMub2JqZWN0X2NvdW50X3R5cGUgKyAiICIgKyB0aGlzLnN0YXJ0X2RhdGUgKyAiICIgKyB0aGlzLmVuZF9kYXRlOwogICAgICBFdmVudFV0aWxzLmxvZ19ldmVudCh0aGlzLiRndGFnLCAnZ3JhcGgnLCAnQ2FtZXJhIFNpdGUnLCBsYWJlbCwgMCk7CiAgICB9LAogICAgZ2V0Q2FtZXJhRGF0YTogZnVuY3Rpb24gZ2V0Q2FtZXJhRGF0YShjYW1lcmEsIG9iamVjdF90eXBlLCBzdGFydF9kYXRlLCBlbmRfZGF0ZSkgewogICAgICBjb25zb2xlLmRlYnVnKCJRdWVyeWluZyBjYW1lcmE6IDoiICsgY2FtZXJhICsgIi4gU3RhcnQ6ICIgKyBzdGFydF9kYXRlICsgIiBFbmQ6ICIgKyBlbmRfZGF0ZSk7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtOyAvL0ZvciB0aGUgbW9tZW50LCB3ZSBuZWVkIHRvIGxpbWl0IGRhdGEgcHVsbCB0byBvbmx5IDMwIGRheXMuIE90aGVyd2lzZSB0aGUgc2VydmVyIGNhbiBwb3RlbnRpYWxseSBydW4KICAgICAgLy9vdXQgb2YgbWVtb3J5LgoKICAgICAgaWYgKG9iamVjdF90eXBlID09PSAncGVyc29uJykgewogICAgICAgIHZhciBzdGFydCA9IG1vbWVudChzdGFydF9kYXRlKTsKICAgICAgICB2YXIgZW5kID0gbW9tZW50KGVuZF9kYXRlKTsKICAgICAgICB2YXIgZGF5c19kZWx0YSA9IGVuZC5kaWZmKHN0YXJ0LCAnZGF5cycpOwoKICAgICAgICBpZiAoZGF5c19kZWx0YSA+IDMwKSB7CiAgICAgICAgICBlbmRfZGF0ZSA9IHN0YXJ0LmFkZCgzMCwgJ2RheXMnKTsgLy90aGlzLmVuZF9kYXRlID0gZW5kX2RhdGU7CgogICAgICAgICAgZW5kX2RhdGUgPSBlbmRfZGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIERhdGFBUEkuR2V0Q2FtZXJhRGF0YShjYW1lcmEsIG9iamVjdF90eXBlLCBzdGFydF9kYXRlLCBlbmRfZGF0ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7IC8vVGhpcyBncm91cHMgdGhlIGRhdGEgYnkgdGltZSBzdGFtcCBjb3VudHMuCiAgICAgICAgLy9XZSBjb2xsYXRlIGNvdW50cyBmb3IgZWFjaCByZWNvcmQgdGhhdCBoYXMgdGhlIHNhbWUgdGltZSBzdGFtcC4KCiAgICAgICAgdmFyIGRTdW0gPSBbXTsKICAgICAgICB2YXIgb2JqQ291bnQgPSAwOwogICAgICAgIHZhciBkVGltZVByZXYgPSB1bmRlZmluZWQ7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGN1clRpbWUgPSBtb21lbnQoZGF0YVtpXS5tX2RhdGUpOwoKICAgICAgICAgIGlmIChpID09IDApIHsKICAgICAgICAgICAgZFRpbWVQcmV2ID0gY3VyVGltZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY3VyVGltZS5kaWZmKGRUaW1lUHJldikgPT0gMCkgewogICAgICAgICAgICBvYmpDb3VudCsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZFN1bS5wdXNoKHsKICAgICAgICAgICAgICBtX2RhdGU6IGRUaW1lUHJldiwKICAgICAgICAgICAgICBvYmplY3RfY291bnQ6IG9iakNvdW50CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBvYmpDb3VudCA9IDA7CiAgICAgICAgICAgIGRUaW1lUHJldiA9IGN1clRpbWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgaG91cl9jb3VudHMgPSB7fTsgLy9CVWlsZCBhbiBob3VybHkgc3VtbWFyeQoKICAgICAgICBkU3VtLmZvckVhY2goZnVuY3Rpb24gKHJlYykgewogICAgICAgICAgdmFyIGN1cl9rZXkgPSByZWMubV9kYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwoKICAgICAgICAgIGlmICghKGN1cl9rZXkgaW4gaG91cl9jb3VudHMpKSB7CiAgICAgICAgICAgIGhvdXJfY291bnRzW2N1cl9rZXldID0gW107CiAgICAgICAgICAgIHZhciBfaSA9IDA7CgogICAgICAgICAgICB3aGlsZSAoX2kgPCAyNCkgewogICAgICAgICAgICAgIC8vaG91cl9jb3VudHNbY3VyX2tleV0ucHVzaCh7Y291bnQ6IDAsIHJlY19jb3VudDogMH0pOwogICAgICAgICAgICAgIC8vV2UgYnVpbGQgYXJyYXlzIGZvciBlYWNoIGhvdXIgdG8gaG9sZCB0aGUgY291bnRzIHBlciBmcmFtZS4KICAgICAgICAgICAgICBob3VyX2NvdW50c1tjdXJfa2V5XS5wdXNoKHsKICAgICAgICAgICAgICAgIGNvdW50czogW10KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfaSsrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGNvdW50X3JlYyA9IGhvdXJfY291bnRzW2N1cl9rZXldOwogICAgICAgICAgdmFyIHJlY19ob3VyID0gcmVjLm1fZGF0ZS5nZXQoJ2hvdXInKTsKICAgICAgICAgIGNvdW50X3JlY1tyZWNfaG91cl1bJ2NvdW50cyddLnB1c2gocmVjLm9iamVjdF9jb3VudCk7IC8vaWYocmVjLm9iamVjdF9jb3VudCA+IDApIHsKICAgICAgICAgIC8vY291bnRfcmVjW3JlY19ob3VyXVsnY291bnQnXSArPSByZWMub2JqZWN0X2NvdW50OwogICAgICAgICAgLy9jb3VudF9yZWNbcmVjX2hvdXJdWydyZWNfY291bnQnXSArPSAxOwogICAgICAgICAgLy99CiAgICAgICAgfSk7IC8vTm93IHdlIG9yZGVyIHRoZSBkYXRhIGZvciB0aGUgZ3JhcGguIFByb2JhYmx5IGNhbiBkbyB0aGlzIGlzIHRoZSBzdGVwIGFib3ZlLCBidXQKICAgICAgICAvL2ZvciBub3cgb25lIG1vcmUgc3RlcC4KCiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoZGF0ZV9rZXkpIHsKICAgICAgICAgIHZhciBkYXlfY291bnRzID0gaG91cl9jb3VudHNbZGF0ZV9rZXldOwogICAgICAgICAgZGF5X2NvdW50cy5mb3JFYWNoKGZ1bmN0aW9uIChvYmpfY291bnQsIGhvdXJfaW5kZXgsIGNvdW50c19hcnJheSkgewogICAgICAgICAgICBjb3VudHNfYXJyYXk7CiAgICAgICAgICAgIHZhciBob3VyX3N0ciA9IGhvdXJfaW5kZXg7CgogICAgICAgICAgICBpZiAoaG91cl9pbmRleCA8IDEwKSB7CiAgICAgICAgICAgICAgaG91cl9zdHIgPSAnMCcgKyBob3VyX2luZGV4OwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgdGltZV9zdGFtcF9zdHIgPSBkYXRlX2tleSArICcgJyArIGhvdXJfc3RyICsgJzowMDowMCc7CiAgICAgICAgICAgIHZhciB0aW1lX3N0YW1wX29iaiA9IG1vbWVudCh0aW1lX3N0YW1wX3N0cik7IC8vbGV0IGF2Z19ob3VyX2NvdW50ID0gMDsKICAgICAgICAgICAgLy9pZihvYmpfY291bnRbJ3JlY19jb3VudCddID4gMCkgewogICAgICAgICAgICAvLyAgICBhdmdfaG91cl9jb3VudCA9IG9ial9jb3VudFsnY291bnQnXSAvIG9ial9jb3VudFsncmVjX2NvdW50J107CiAgICAgICAgICAgIC8vfQoKICAgICAgICAgICAgdmFyIG1lZGlhbl9jb3VudCA9IDA7CiAgICAgICAgICAgIHZhciBhdmdfY291bnQgPSAwOwogICAgICAgICAgICB2YXIgbWF4X2NvdW50ID0gMDsKCiAgICAgICAgICAgIGlmIChvYmpfY291bnQuY291bnRzLmxlbmd0aCkgewogICAgICAgICAgICAgIHZhciBzb3J0ZWQgPSBvYmpfY291bnQuY291bnRzLnNvcnQoKTsKICAgICAgICAgICAgICBtZWRpYW5fY291bnQgPSBtZWRpYW4oc29ydGVkKTsKICAgICAgICAgICAgICBhdmdfY291bnQgPSBtZWFuKHNvcnRlZCk7CiAgICAgICAgICAgICAgbWF4X2NvdW50ID0gbWF4KHNvcnRlZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG1lZGlhbl9jb3VudDsKICAgICAgICAgICAgbWF4X2NvdW50OyAvL2NvbnNvbGUuZGVidWcoIkNhbWVyYSBTdGF0cy4gQXZnOiAiICsgYXZnX2NvdW50ICsgIiBNZWRpYW46ICIgKyBtZWRpYW5fY291bnQgKyAiIE1heDogIiArIG1heF9jb3VudCk7CgogICAgICAgICAgICB2bS5ncmFwaF9kYXRhLnB1c2goW3RpbWVfc3RhbXBfb2JqLnZhbHVlT2YoKSwgYXZnX2NvdW50XSk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciBkYXRlX2tleSBpbiBob3VyX2NvdW50cykgewogICAgICAgICAgX2xvb3AoZGF0ZV9rZXkpOwogICAgICAgIH0KCiAgICAgICAgdm0uY2hhcnQuc2VyaWVzWzBdLnNldERhdGEodm0uZ3JhcGhfZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgY29uc29sZS5kZWJ1Zygib25DbG9zZSBtb2RhbF9ncmFwaF9jbG9zZWQgZXZlbnQgZW1pdHRlZC4iKTsKICAgICAgdGhpcy4kZW1pdCgibW9kYWxfZ3JhcGhfY2xvc2VkIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["camera_graph.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"card\">\n            <div class=\"card-body object-counts\">\n                <button type=\"button\" class=\"app-button-style btn btn-primary avenir-font\" @click=\"$router.go(-1)\">&laquo; Back</button>\n                <div class=\"mt-4 card-title font-avenir\">\n                    <h4>Site: {{site_name}}</h4>\n                </div>\n                <div class=\"card-subtitle avenir-font-light\">\n                   <h5>ID: {{site_id}}</h5>\n                </div>\n                <div class=\"card-text\">\n                    These graphs are produced using Machine Learning to classify objects from the video stream. We provide\n                    an average of those counts per hour.\n                    <span v-if=\"this.object_count_type == 'person'\">\n                        <br>\n                        For People counts, due to data volumes, we are limited to 30 days of data retrieval.\n                    </span>\n                </div>\n                <div class=\"row mt-4\">\n                    <div class=\"col-3\">\n                        <h5 class=\"d-inline-block\">Object Count</h5>\n                        <b-dropdown id=\"object_type_dropdown\" :text=\"object_count_display_string\" class=\"object_type_dropdown m-md-2\">\n                            <b-dropdown-item @click=\"objectTypeSelected($event, 'person', 'People')\">People</b-dropdown-item>\n                            <b-dropdown-item @click=\"objectTypeSelected($event, 'chair', 'Chairs')\">Chairs</b-dropdown-item>\n                            <b-dropdown-item @click=\"objectTypeSelected($event, 'umbrella', 'Umbrellas')\">Umbrellas</b-dropdown-item>\n                            <b-dropdown-item @click=\"objectTypeSelected($event, 'bird', 'Birds')\">Birds</b-dropdown-item>\n                            <b-dropdown-item @click=\"objectTypeSelected($event, 'dog', 'Dogs')\">Dogs</b-dropdown-item>\n                        </b-dropdown>\n                    </div>\n                    <div class=\"col-6\">\n                        <div class=\"row\">\n                            <div class=\"col-3\">\n                                <label for=\"start_date\"><h5>Start Date</h5></label>\n                            </div>\n                            <div class=\"col-9\">\n                                <b-form-datepicker id=\"start_date\"\n                                                   :initial-date=\"start_date\"\n                                                   v-model=\"start_date\"\n                                                   class=\"mb-2\"></b-form-datepicker>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-3\">\n                                <label for=\"end_date\"><h5>End Date</h5></label>\n                            </div>\n                            <div class=\"col-9\">\n                                <b-form-datepicker id=\"end_date\"\n                                                   :initial-date=\"end_date\"\n                                                   v-model=\"end_date\"\n                                                   class=\"mb-2\"></b-form-datepicker>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-3\">\n                        <button type=\"button\"\n                                class=\"app-button-style btn btn-outline-primary mb-1\"\n                            @click=\"graphCounts()\">\n                            Graph Counts\n                        </button>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div :id=\"graph_id\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Vue from 'vue'\n\n    import moment from 'moment';\n    import DataAPI from \"../utilities/rest_api\";\n\n    import Highcharts from 'highcharts';\n    import EventUtils from \"../utilities/analytics_funcs\";\n    import {DropdownPlugin, FormDatepickerPlugin} from 'bootstrap-vue';\n    Vue.use(DropdownPlugin);\n    Vue.use(FormDatepickerPlugin);\n\n    import {min,max,mean,median} from \"simple-statistics\";\n    Vue.use(min, max, mean, median);\n\n    export default {\n        name: 'CameraGraph',\n        props: {\n            'site_id': {type: String, default: 'Site Id'},\n            'camera_name': {type: String, default: ''}\n        },\n        components: {\n        },\n        data()\n        {\n            return {\n                start_date: moment().subtract(7, 'days').format(\"YYYY-MM-DD\"),\n                end_date: moment().format(\"YYYY-MM-DD\"),\n                graph_id: \"camera_graph\",\n                site_description: '',\n                object_count_display_string: 'People',\n                object_count_type: 'person',\n                graph_data: [],\n                chart_ref: undefined,\n                chart: undefined,\n                chart_options: {\n                    chart: {\n                        type: 'column',\n                    },\n                    credits: {\n                        enabled: false\n                    },\n                    title: {\n                        text: \"Average People Detected Per Hour\"\n                    },\n                    colors: ['#333333'],\n                    time: {\n                        timezone: 'America/New_York',\n                        useUTC: false\n                    },\n                    xAxis: {\n                        endOnTick: true,\n                        showLastLabel: false,\n                        title: {\n                            text: 'Date',\n                            offset: 30\n                        },\n                        type: 'datetime',\n                        dateTimeLabelFormats : {\n                            day: '%a %e %b \\'%y',\n                            hour: \"%I:%M %p\"\n                        },\n                        /*\n                        dateTimeLabelFormats: {\n                            week: '%e %b \\'%y',\n                            month: '%e %b \\'%y',\n                            year: '%e %b \\'%y',\n                        },\n                        labels: {\n                            rotation: 0,\n                            y: 20\n                        },\n                        */\n                        tickInterval: 3600 * 1000\n                    },\n                    yAxis: {\n                        showFirstLabel: false,\n                        title: {\n                            text: 'People count',\n                            margin: 20\n                        }\n                    },\n                    tooltip: {\n                        formatter: function () {\n                            let date_time = moment(this.x);\n                            return '<strong>Date:</strong> ' + date_time.format('DD MMM YYYY hh:mm a') + '<br /><strong>Count:</strong> ' + Math.round(this.y);\n                        }\n                    },\n                    legend: {\n                        enabled: false\n                    },\n                    series: [{\n                        name: 'Station',\n                        data: []\n                    }]\n\n                }\n            }\n        },\n        mounted() {\n            let vm = this;\n            console.debug(\"CameraGraph mounted.\");\n\n            //We aren't passing the props in the vue route path, so we check the params to then set the properties.\n            if('params' in this.$route) {\n                if('site_id' in this.$route.params)\n                {\n                    this.site_id = this.$route.params.site_id;\n                }\n                if('site_name' in this.$route.params)\n                {\n                    this.site_name = this.$route.params.site_name;\n                }\n                if('camera_name' in this.$route.params)\n                {\n                    this.camera_name = this.$route.params.camera_name;\n                }\n            }\n            let start_date = moment().subtract(7, 'days');\n            let end_date = moment();\n            this.getCameraData(this.camera_name, 'person', start_date, end_date);\n\n            this.$nextTick(function() {\n                vm.chart = new Highcharts.chart(vm.graph_id, vm.chart_options);\n            });\n\n        },\n        methods: {\n            objectTypeSelected(event, object_type, type_display_string) {\n                this.object_count_display_string = type_display_string;\n                this.object_count_type = object_type;\n            },\n            graphCounts() {\n                this.graph_data = [];\n                this.chart.series[0].setData(this.graph_data);\n                this.chart.yAxis[0].setTitle({ text: this.object_count_display_string + ' count'});\n                this.chart.setTitle({ text: \"Average \" + this.object_count_display_string + \" Detected Per Hour\"});\n                this.getCameraData(this.camera_name, this.object_count_type, this.start_date, this.end_date);\n\n                let label = this.camera_name + \" \" + this.object_count_type + \" \" + this.start_date + \" \" + this.end_date;\n\n                EventUtils.log_event(this.$gtag, 'graph', 'Camera Site', label, 0);\n            },\n            getCameraData(camera, object_type, start_date, end_date) {\n                console.debug(\"Querying camera: :\" + camera + \". Start: \" + start_date +\" End: \" + end_date);\n                let vm=this;\n                vm;\n                //For the moment, we need to limit data pull to only 30 days. Otherwise the server can potentially run\n                //out of memory.\n                if(object_type === 'person')\n                {\n                    let start = moment(start_date);\n                    let end = moment(end_date);\n                    let days_delta = end.diff(start, 'days');\n                    if(days_delta > 30)\n                    {\n                        end_date = start.add(30, 'days');\n                        //this.end_date = end_date;\n                        end_date = end_date.format(\"YYYY-MM-DD\");\n                    }\n                }\n                DataAPI.GetCameraData(camera,\n                    object_type,\n                    start_date,\n                    end_date)\n                    .then(response => {\n                        let data = response.data;\n                        //This groups the data by time stamp counts.\n                        //We collate counts for each record that has the same time stamp.\n                        let dSum = [];\n                        let objCount = 0;\n                        let dTimePrev = undefined;\n                        for (var i = 0; i < data.length; i++) {\n                            let curTime = moment(data[i].m_date);\n                            if (i == 0) {\n                                dTimePrev = curTime;\n                            }\n                            if (curTime.diff(dTimePrev) == 0) {\n                                objCount++;\n                            }\n                            else {\n                                dSum.push({ m_date: dTimePrev, object_count: objCount });\n                                objCount = 0;\n                                dTimePrev = curTime;\n                            }\n\n                        }\n\n                        let hour_counts = {};\n                        //BUild an hourly summary\n                        dSum.forEach(function(rec)\n                        {\n                            let cur_key = rec.m_date.format('YYYY-MM-DD');\n                            if(!(cur_key in hour_counts)) {\n                                hour_counts[cur_key] = [];\n                                let i = 0;\n                                while(i < 24) {\n                                    //hour_counts[cur_key].push({count: 0, rec_count: 0});\n                                    //We build arrays for each hour to hold the counts per frame.\n                                    hour_counts[cur_key].push({counts: []});\n                                    i++;\n                                }\n                            }\n                            let count_rec = hour_counts[cur_key];\n                            let rec_hour = rec.m_date.get('hour');\n                            count_rec[rec_hour]['counts'].push(rec.object_count);\n\n                            //if(rec.object_count > 0) {\n                            //count_rec[rec_hour]['count'] += rec.object_count;\n                            //count_rec[rec_hour]['rec_count'] += 1;\n                            //}\n\n                        });\n\n                        //Now we order the data for the graph. Probably can do this is the step above, but\n                        //for now one more step.\n                        for(let date_key in hour_counts)\n                        {\n                            let day_counts = hour_counts[date_key];\n                            day_counts.forEach(function(obj_count, hour_index, counts_array)\n                           {\n                               counts_array;\n                               let hour_str =  hour_index;\n                               if(hour_index < 10)\n                               {\n                                   hour_str = '0' + hour_index;\n                               }\n                               let time_stamp_str = date_key  + ' ' + hour_str + ':00:00';\n                               let time_stamp_obj = moment(time_stamp_str);\n                               //let avg_hour_count = 0;\n\n                               //if(obj_count['rec_count'] > 0) {\n                               //    avg_hour_count = obj_count['count'] / obj_count['rec_count'];\n                               //}\n                               let median_count = 0;\n                               let avg_count = 0;\n                               let max_count = 0;\n                               if(obj_count.counts.length) {\n                                   let sorted = obj_count.counts.sort();\n                                   median_count = median(sorted);\n                                   avg_count = mean(sorted);\n                                   max_count = max(sorted)\n                               }\n                               median_count;\n                               max_count;\n                               //console.debug(\"Camera Stats. Avg: \" + avg_count + \" Median: \" + median_count + \" Max: \" + max_count);\n                               vm.graph_data.push([time_stamp_obj.valueOf(), avg_count]);\n                           })\n                        }\n                        vm.chart.series[0].setData(vm.graph_data);\n\n                    })\n                    .catch(error => console.error(error));\n\n\n            },\n            onClose() {\n                console.debug(\"onClose modal_graph_closed event emitted.\");\n                this.$emit(\"modal_graph_closed\");\n            }\n        }\n    }\n</script>\n<style>\n    .button_color {\n        background-color: rgba(0, 61, 126, .85);\n        border-color: #FFFFFF;\n        opacity: 0.75;\n    }\n    .object_type_dropdown > button {\n        background-color: rgba(0, 61, 126, .85);\n        border-color: #FFFFFF;\n        opacity: 0.75;\n    }\n\n    .object_type_dropdown > .btn-secondary:hover,\n    .object_type_dropdown > .btn-secondary:focus,\n    .object_type_dropdown > .btn-secondary:active {\n        color: rgba(0, 61, 126, .85);\n        background-color: #FFFFFF;\n        opacity: 0.75;\n    }\n</style>\n<style scoped>\n    .blue-background_color {\n        background-color: rgba(0, 61, 126, .85);\n    }\n\n    .full-graph {\n        width: 100%;\n        height: 100%;\n    }\n    .object-counts {\n        background-color: rgba(0, 61, 126, .85);\n        color: #FFFFFF\n    }\n\n</style>\n"],"sourceRoot":"src/components"}]}