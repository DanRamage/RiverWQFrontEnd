{"remainingRequest":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/station_graph.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/src/components/station_graph.vue","mtime":1682360357860},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/babel-loader/lib/index.js","mtime":1682361371663},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1682361370579},{"path":"/Users/danramage/Documents/workspace/WaterQuality/RiverWQFrontEnd/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1682361372188}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IERhdGFBUEkgZnJvbSAiLi4vdXRpbGl0aWVzL3Jlc3RfYXBpIjsKaW1wb3J0IFdRUGxvdCBmcm9tICJAL2NvbXBvbmVudHMvc2NhdHRlcl9wbG90IjsKaW1wb3J0IEhpZ2hjaGFydHMgZnJvbSAnaGlnaGNoYXJ0cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3RhdGlvbkdyYXBoJywKICBwcm9wczogewogICAgJ3NpdGVfaWQnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ1NpdGUgSWQnCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBXUVBsb3Q6IFdRUGxvdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUJ0bjogNjAsCiAgICAgIGNoYXJ0VHlwZUJ0bjogJ3BpZScsCiAgICAgIHNpdGVfZGVzY3JpcHRpb246ICcnLAogICAgICAvL2dyYXBoX2RhdGE6IFtdLAogICAgICBjaGFydF9kYXRhOiBbXSwKICAgICAgc2NhdHRlcl9wbG90X2RhdGE6IFtdLAogICAgICBwaWVfY2hhcnRfZGF0YTogW10sCiAgICAgIHNjYXR0ZXJfY2hhcnRfcmVmOiB1bmRlZmluZWQsCiAgICAgIHBpZV9jaGFydF9yZWY6IHVuZGVmaW5lZCwKICAgICAgcmVjb3Jkc19hYm92ZV9tYXhfdGhyZXNob2xkOiAwLAogICAgICBwZXJjZW50YWdlX2V4Y2VlZHM6IDAsCiAgICAgIHRvdGFsX3JlY29yZHM6IDAsCiAgICAgIHNjYXR0ZXJfY2hhcnRfb3B0aW9uczogewogICAgICAgIGNoYXJ0OiB7CiAgICAgICAgICAvL2JhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLAogICAgICAgICAgZGVmYXVsdFNlcmllc1R5cGU6ICdzY2F0dGVyJywKICAgICAgICAgIG1hcmdpblJpZ2h0OiAwLAogICAgICAgICAgbWFyZ2luTGVmdDogNjUsCiAgICAgICAgICBtYXJnaW5Ub3A6IDIwCiAgICAgICAgfSwKICAgICAgICBjcmVkaXRzOiB7CiAgICAgICAgICBlbmFibGVkOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6IG51bGwKICAgICAgICB9LAogICAgICAgIGNvbG9yczogWycjMzMzMzMzJ10sCiAgICAgICAgeEF4aXM6IHsKICAgICAgICAgIGVuZE9uVGljazogdHJ1ZSwKICAgICAgICAgIHNob3dMYXN0TGFiZWw6IGZhbHNlLAogICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgdGV4dDogJ0RhdGUnLAogICAgICAgICAgICBvZmZzZXQ6IDMwCiAgICAgICAgICB9LAogICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJywKICAgICAgICAgIGRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CiAgICAgICAgICAgIGRheTogJyVlICViIFwnJXknLAogICAgICAgICAgICB3ZWVrOiAnJWUgJWIgXCcleScsCiAgICAgICAgICAgIG1vbnRoOiAnJWUgJWIgXCcleScsCiAgICAgICAgICAgIHllYXI6ICclZSAlYiBcJyV5JwogICAgICAgICAgfSwKICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgeTogMjAKICAgICAgICAgIH0sCiAgICAgICAgICB0aWNrV2lkdGg6IDAKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICB0eXBlOiAnbG9nYXJpdGhtaWMnLAogICAgICAgICAgc2hvd0ZpcnN0TGFiZWw6IGZhbHNlLAogICAgICAgICAgdGlja1Bvc2l0aW9uZXI6IGZ1bmN0aW9uIHRpY2tQb3NpdGlvbmVyKG1pbiwgbWF4KSB7CiAgICAgICAgICAgIG1pbjsKICAgICAgICAgICAgbWF4OwogICAgICAgICAgICB2YXIgdGlja3MgPSBbMSwgMTAsIDEwMCwgMTAwMCwgMTAwMDBdLAogICAgICAgICAgICAgICAgaSA9IHRpY2tzLmxlbmd0aDsKCiAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICB0aWNrc1tpXSA9IHRoaXMudmFsMmxpbih0aWNrc1tpXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB0aWNrczsKICAgICAgICAgIH0sCiAgICAgICAgICBsYWJlbHM6IHsKICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPCAxMCA/IDEgOiB0aGlzLnZhbHVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICJjb2xvciI6ICIjRkZGRkZGIgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgZ3JpZExpbmVXaWR0aDogMCwKICAgICAgICAgIGxpbmVXaWR0aDogMSwKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIHRleHQ6ICdCYWN0ZXJpYSBwZXIgMTAwIG1MJywKICAgICAgICAgICAgbWFyZ2luOiAwCiAgICAgICAgICB9LAogICAgICAgICAgcGxvdEJhbmRzOiBbewogICAgICAgICAgICBjb2xvcjogJyM5NmNhMmQnLAogICAgICAgICAgICBmcm9tOiB0aGlzLiRzdG9yZS5zdGF0ZS5hZHZpc29yeV9saW1pdHMubG93Lm1pbmltdW0sCiAgICAgICAgICAgIHRvOiB0aGlzLiRzdG9yZS5zdGF0ZS5hZHZpc29yeV9saW1pdHMuaGkubWluaW11bQogICAgICAgICAgfSwgewogICAgICAgICAgICBjb2xvcjogJyNEQjFBMEYnLAogICAgICAgICAgICBmcm9tOiB0aGlzLiRzdG9yZS5zdGF0ZS5hZHZpc29yeV9saW1pdHMuaGkubWluaW11bSwKICAgICAgICAgICAgdG86IDEwMDAwCiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIoKSB7CiAgICAgICAgICAgIHJldHVybiAnPHN0cm9uZz5EYXRlOjwvc3Ryb25nPiAnICsgSGlnaGNoYXJ0cy5kYXRlRm9ybWF0KCclZSAlQiAlWScsIHRoaXMueCkgKyAnPGJyIC8+PHN0cm9uZz5CYWN0ZXJpYSBsZXZlbDo8L3N0cm9uZz4gJyArIE1hdGgucm91bmQodGhpcy55KTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6ICdTdGF0aW9uJywKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgcGllX2NoYXJ0X29wdGlvbnM6IHsKICAgICAgICBjaGFydDogewogICAgICAgICAgcGxvdEJhY2tncm91bmRDb2xvcjogbnVsbCwKICAgICAgICAgIHBsb3RCb3JkZXJXaWR0aDogbnVsbCwKICAgICAgICAgIHBsb3RTaGFkb3c6IGZhbHNlLAogICAgICAgICAgdHlwZTogJ3BpZScKICAgICAgICB9LAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0OiBudWxsCiAgICAgICAgfSwKCiAgICAgICAgLyp0b29sdGlwOiB7CiAgICAgICAgICBwb2ludEZvcm1hdDogJ3tzZXJpZXMubmFtZX06IDxiPntwb2ludC5wZXJjZW50YWdlOi4xZn0lPC9iPicKICAgICAgICB9LCovCgogICAgICAgIC8qYWNjZXNzaWJpbGl0eTogewogICAgICAgICAgcG9pbnQ6IHsKICAgICAgICAgICAgdmFsdWVTdWZmaXg6ICclJwogICAgICAgICAgfQogICAgICAgIH0sKi8KICAgICAgICBwbG90T3B0aW9uczogewogICAgICAgICAgcGllOiB7CiAgICAgICAgICAgIGFsbG93UG9pbnRTZWxlY3Q6IHRydWUsCiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLAogICAgICAgICAgICBkYXRhTGFiZWxzOiB7CiAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICBmb3JtYXQ6ICc8Yj57cG9pbnQubmFtZX08L2I+OiB7cG9pbnQueX0nCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6ICdTYW1wbGUgQ291bnRzJywKICAgICAgICAgIGNvbG9yQnlQb2ludDogdHJ1ZSwKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmRlYnVnKCJTdGF0aW9uR3JhcGggbW91bnRlZC4iKTsgLy9XZSBhcmVuJ3QgcGFzc2luZyB0aGUgcHJvcHMgaW4gdGhlIHZ1ZSByb3V0ZSBwYXRoLCBzbyB3ZSBjaGVjayB0aGUgcGFyYW1zIHRvIHRoZW4gc2V0IHRoZSBwcm9wZXJ0aWVzLgoKICAgIGlmICgncGFyYW1zJyBpbiB0aGlzLiRyb3V0ZSkgewogICAgICBpZiAoJ3NpdGVfaWQnIGluIHRoaXMuJHJvdXRlLnBhcmFtcykgewogICAgICAgIHRoaXMuc2l0ZV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5zaXRlX2lkOwogICAgICB9CgogICAgICBpZiAoJ3NpdGVfbmFtZScgaW4gdGhpcy4kcm91dGUucGFyYW1zKSB7CiAgICAgICAgdGhpcy5zaXRlX25hbWUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuc2l0ZV9uYW1lOwogICAgICB9CiAgICAgIC8qCiAgICAgIGlmKCdncmFwaF9kYXRhJyBpbiB0aGlzLiRyb3V0ZS5wYXJhbXMpCiAgICAgIHsKICAgICAgICAgIHRoaXMuZ3JhcGhfZGF0YSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5ncmFwaF9kYXRhOwogICAgICB9CiAgICAgICovCgogICAgfSAvL1dlIHB1bGwgdGhlIGxhc3QgNjAgZGF5cyB3b3J0aCBvZiBkYXRhIHRvIHNob3cuCgoKICAgIHRoaXMuc2NhdHRlcl9jaGFydF9yZWYgPSB0aGlzLiRyZWZzLnN0YXRpb25fc2NhdHRlcl9ncmFwaDsKICAgIHRoaXMucGllX2NoYXJ0X3JlZiA9IHRoaXMuJHJlZnMuc3RhdGlvbl9waWVfY2hhcnQ7CiAgICB0aGlzLnBhc3REYXRhKDYwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRheXNCdXR0b25DbGljazogZnVuY3Rpb24gZGF5c0J1dHRvbkNsaWNrKGJ1dHRvbl9jbGlja2VkLCBkYXlzKSB7CiAgICAgIHRoaXMuYWN0aXZlQnRuID0gZGF5czsgLy9XZSB1c2UgdGhpcyB0byB0b2dnbGUgdGhlIGFjdGl2ZSBjbGFzcyBvbiB0aGUgYnV0dG9uLuKJoOKJoAoKICAgICAgdGhpcy5wYXN0RGF0YShkYXlzKTsKICAgIH0sCiAgICBjaGFydFR5cGVzQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIGNoYXJ0VHlwZXNCdXR0b25DbGljayhidXR0b25fY2xpY2tlZCwgY2hhcnRfdHlwZSkgewogICAgICBjb25zb2xlLmRlYnVnKCJjaGFydFR5cGVzQnV0dG9uQ2xpY2sgY2FsbGVkLCBjaGFydCB0eXBlOiAiICsgY2hhcnRfdHlwZSk7CiAgICAgIHRoaXMuY2hhcnRUeXBlID0gY2hhcnRfdHlwZTsKCiAgICAgIGlmIChjaGFydF90eXBlID09PSAnc2NhdHRlcicpIHsKICAgICAgICBpZiAodGhpcy5zY2F0dGVyX2NoYXJ0X3JlZiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnNjYXR0ZXJfY2hhcnRfcmVmID0gdGhpcy4kcmVmcy5zdGF0aW9uX3NjYXR0ZXJfZ3JhcGg7CiAgICAgICAgICB0aGlzLnNjYXR0ZXJfY2hhcnRfcmVmLmNoYXJ0LnhBeGlzWzBdLnNldEV4dHJlbWVzKG1vbWVudC51dGMoKS5zdWJ0cmFjdCh0aGlzLmFjdGl2ZUJ0biwgImRheXMiKS52YWx1ZU9mKCksIG1vbWVudC51dGMoKS52YWx1ZU9mKCkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy4kcmVmcy5zdGF0aW9uX3BpZV9jaGFydCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMucGllX2NoYXJ0X3JlZiA9IHRoaXMuJHJlZnMuc3RhdGlvbl9waWVfY2hhcnQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcGFzdERhdGE6IGZ1bmN0aW9uIHBhc3REYXRhKGRheXNfYmFjaykgewogICAgICBjb25zb2xlLmRlYnVnKCJSZXRyaWV2aW5nOiAiICsgZGF5c19iYWNrICsgIiBkYXlzIG9mIGRhdGEuIik7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBsb2NhdGlvbl9zaXRlX25hbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zaXRlX25hbWU7CiAgICAgIHZhciBzdGFydF9kYXRlID0gbW9tZW50KCkuc3VidHJhY3QoZGF5c19iYWNrLCAnZGF5cycpLmZvcm1hdCgiWVlZWS1NTS1ERCAwMDowMDowMCIpOwogICAgICB2YXIgZW5kX2RhdGUgPSBtb21lbnQudXRjKCkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIik7IC8vdGhpcy5ncmFwaF9kYXRhID0gW107CgogICAgICB0aGlzLnBpZV9jaGFydF9kYXRhID0gW107CiAgICAgIHRoaXMuc2NhdHRlcl9wbG90X2RhdGEgPSBbXTsKICAgICAgRGF0YUFQSS5HZXRTaXRlRGF0YShsb2NhdGlvbl9zaXRlX25hbWUsIHRoaXMuc2l0ZV9pZCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdm0uZmVhdHVyZV9kYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB2YXIgc2l0ZV90eXBlID0gdm0uZmVhdHVyZV9kYXRhLnByb3BlcnRpZXMuc2l0ZV90eXBlOwoKICAgICAgICBpZiAoc2l0ZV90eXBlIGluIHZtLmZlYXR1cmVfZGF0YS5wcm9wZXJ0aWVzKSB7CiAgICAgICAgICB2bS5mZWF0dXJlX2RhdGEucHJvcGVydGllc1tzaXRlX3R5cGVdLmFkdmlzb3J5LnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjKSB7CiAgICAgICAgICAgIHZhciBkYXRlX3ZhbCA9IG1vbWVudChyZWMuZGF0ZSk7CiAgICAgICAgICAgIHZtLnNjYXR0ZXJfcGxvdF9kYXRhLnB1c2goW2RhdGVfdmFsLnZhbHVlT2YoKSwgcmVjLnZhbHVlXSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAodm0uc2NhdHRlcl9jaGFydF9yZWYgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB2bS5zY2F0dGVyX2NoYXJ0X3JlZi5jaGFydC54QXhpc1swXS5zZXRFeHRyZW1lcyhtb21lbnQudXRjKCkuc3VidHJhY3QoZGF5c19iYWNrLCAiZGF5cyIpLnZhbHVlT2YoKSwgbW9tZW50LnV0YygpLnZhbHVlT2YoKSk7CiAgICAgICAgICB9CgogICAgICAgICAgdm0uY2FsY1N0YXRzKHZtLCB2bS5zY2F0dGVyX3Bsb3RfZGF0YSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNhbGNTdGF0czogZnVuY3Rpb24gY2FsY1N0YXRzKHZtLCBkYXRhX2FycmF5KSB7CiAgICAgIGNvbnNvbGUuZGVidWcoImNhbGNTdGF0cyBjYWxsZWQuIik7CiAgICAgIHZtLnJlY29yZHNfYWJvdmVfbWF4X3RocmVzaG9sZCA9IDA7CiAgICAgIHZtLnRvdGFsX3JlY29yZHMgPSAwOwoKICAgICAgaWYgKGRhdGFfYXJyYXkubGVuZ3RoKSB7CiAgICAgICAgZGF0YV9hcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChyZWMpIHsKICAgICAgICAgIGlmIChyZWNbMV0gPj0gdm0uJHN0b3JlLnN0YXRlLmFkdmlzb3J5X2xpbWl0cy5oaS5taW5pbXVtKSB7CiAgICAgICAgICAgIHZtLnJlY29yZHNfYWJvdmVfbWF4X3RocmVzaG9sZCArPSAxOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZtLnRvdGFsX3JlY29yZHMgPSBkYXRhX2FycmF5Lmxlbmd0aDsKICAgICAgICB2bS5waWVfY2hhcnRfZGF0YSA9IFt7CiAgICAgICAgICBuYW1lOiAnU2FtcGxlIENvdW50JywKICAgICAgICAgIHk6IHZtLnRvdGFsX3JlY29yZHMsCiAgICAgICAgICBjb2xvcjogJ2dyZXknCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ1NhbXBsZXMgQWJvdmUgTGltaXQnLAogICAgICAgICAgeTogdm0ucmVjb3Jkc19hYm92ZV9tYXhfdGhyZXNob2xkLAogICAgICAgICAgY29sb3I6ICdyZWQnCiAgICAgICAgfV07CiAgICAgICAgdm0ucGVyY2VudGFnZV9leGNlZWRzID0gcGFyc2VJbnQodm0ucmVjb3Jkc19hYm92ZV9tYXhfdGhyZXNob2xkIC8gdm0udG90YWxfcmVjb3JkcyAqIDEwMC4wKTsgLy9sZXQgbWVkaWFuX3ZhbCA9IDA7CiAgICAgICAgLy9sZXQgdmFscyA9IGRhdGFfYXJyYXkubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgLy8gIHJldHVybiB4WzFdCiAgICAgICAgLy99KQogICAgICAgIC8vbWVkaWFuX3ZhbCA9IG1lYW4odmFscyk7CgogICAgICAgIGNvbnNvbGUuZGVidWcoIlRvdGFsIFNhbXBsZXM6ICIgKyB2bS50b3RhbF9yZWNvcmRzICsgIkJhZCBTYW1wbGVzOiAiICsgdm0ucmVjb3Jkc19hYm92ZV9tYXhfdGhyZXNob2xkKTsKICAgICAgfQogICAgfSwKICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgIGNvbnNvbGUuZGVidWcoIm9uQ2xvc2UgbW9kYWxfZ3JhcGhfY2xvc2VkIGV2ZW50IGVtaXR0ZWQuIik7CiAgICAgIHRoaXMuJGVtaXQoIm1vZGFsX2dyYXBoX2Nsb3NlZCIpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNoYXJ0VHlwZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5jaGFydFR5cGVCdG47CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGNoYXJ0X3R5cGUpIHsKICAgICAgICB0aGlzLmNoYXJ0VHlwZUJ0biA9IGNoYXJ0X3R5cGU7CiAgICAgIH0KICAgIH0KICAgIC8qCiAgICBncmFwaF9kYXRhOiB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgY29uc29sZS5kZWJ1ZygiZ3JhcGhfZGF0YSBjb21wdXRlZCBjYWxsZWQuIikKICAgICAgICByZXR1cm4odGhpcy5jaGFydF9kYXRhKTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbihzY2F0dGVyX3Bsb3RfZGF0YSwgcGllX2NoYXJ0X2RhdGEpIHsKICAgICAgICBpZih0aGlzLmNoYXJ0VHlwZUJ0biA9PSAnc2NhdHRlcicpIHsKICAgICAgICAgIHRoaXMuY2hhcnRfZGF0YSA9IHNjYXR0ZXJfcGxvdF9kYXRhOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIHRoaXMuY2hhcnRfZGF0YSA9IHBpZV9jaGFydF9kYXRhOwogICAgICAgIH0KICAgICAgIH0KICAgIH0sCiAgICBjaGFydF9vcHRpb25zOiBmdW5jdGlvbigpIHsKICAgICAgY29uc29sZS5kZWJ1ZygiY2hhcnRfb3B0aW9ucyBjb21wdXRlZCBjYWxsZWQuIikKICAgICAgaWYodGhpcy5jaGFydFR5cGVCdG4gPT0gJ3NjYXR0ZXInKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2NhdHRlcl9jaGFydF9vcHRpb25zOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLnBpZV9jaGFydF9vcHRpb25zOwogICAgICB9CiAgICB9CiAgICAqLwoKICB9Cn07"},{"version":3,"sources":["station_graph.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"card\">\n            <div class=\"card-body data-graph\">\n                <button type=\"button\" class=\"app-button-style btn btn-primary avenir-font background_color\" @click=\"$router.go(-1)\">&laquo; Back</button>\n                <div class=\"mt-4 card-title font-avenir\">\n                    <h2>Site: {{site_name}}</h2>\n                </div>\n                <div class=\"card-subtitle avenir-font-light\">\n                   <h3>ID: {{site_id}}</h3>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div ref=\"days_buttons\" class=\"btn-group\">\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 30}\" @click=\"daysButtonClick($event, 30)\">30 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 60}\" @click=\"daysButtonClick($event,60)\">60 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 90}\" @click=\"daysButtonClick($event,90)\">90 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 180}\" @click=\"daysButtonClick($event,180)\">180 days</button>\n                            <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: activeBtn === 365}\" @click=\"daysButtonClick($event,365)\">365 days</button>\n                        </div>\n                    </div>\n                </div>\n              <div class=\"row mt-4\">\n                <div class=\"col-12\">\n                  <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: chartTypeBtn === 'pie'}\" @click=\"chartTypesButtonClick($event, 'pie')\">Pie Chart</button>\n                  <button type=\"button\" class=\"app-button-style btn btn-outline-primary\" :class=\"{active: chartTypeBtn === 'scatter'}\" @click=\"chartTypesButtonClick($event,'scatter')\">Scatter Plot</button>\n                </div>\n              </div>\n                <!---\n                <div class=\"row mt-4\">\n                  <div class=\"col-12\">\n                    <table>\n                      <tr>\n                        <td >Number of Samples</td>\n                        <td class=\"ml-3\">{{total_records}}</td>\n                      </tr>\n                      <tr>\n                        <td>Exceeds Threshold</td>\n                        <td class=\"ml-3\">{{records_above_max_threshold}}</td>\n                      </tr>\n                    </table>\n                    </div>\n                </div>\n                -->\n                <div v-show=\"chartType === 'scatter'\" class=\"row mt-4\">\n                    <div ref=\"scatter_plot_column\" class=\"col-12 full-graph\">\n                        <WQPlot\n                                ref=\"station_scatter_graph\"\n                                :chart_options=\"scatter_chart_options\"\n                                id='station_scatter_graph'\n                                :station_data=\"scatter_plot_data\">\n                        </WQPlot>\n                    </div>\n                </div>\n                <div v-show=\"chartType === 'pie'\" class=\"row mt-4\">\n                    <div ref=\"pie_chart_column\" class=\"col-6 full-graph\">\n                        <WQPlot ref=\"station_pie_chart\"\n                                :chart_options=\"pie_chart_options\"\n                                id='station_pie_chart'\n                                :station_data=\"pie_chart_data\">\n                        </WQPlot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import moment from 'moment';\n    import DataAPI from \"../utilities/rest_api\";\n\n    import WQPlot from \"@/components/scatter_plot\";\n    import Highcharts from 'highcharts';\n\n    export default {\n        name: 'StationGraph',\n        props: {\n            'site_id': {type: String, default: 'Site Id'},\n        },\n        components: {\n            WQPlot\n        },\n        data()\n        {\n            return {\n                activeBtn: 60,\n                chartTypeBtn: 'pie',\n                site_description: '',\n                //graph_data: [],\n                chart_data: [],\n                scatter_plot_data: [],\n                pie_chart_data: [],\n                scatter_chart_ref: undefined,\n                pie_chart_ref: undefined,\n                records_above_max_threshold: 0,\n                percentage_exceeds: 0,\n                total_records: 0,\n                scatter_chart_options: {\n                    chart: {\n                        //backgroundColor: 'rgba(0,0,0,0)',\n                        defaultSeriesType: 'scatter',\n                        marginRight: 0,\n                        marginLeft: 65,\n                        marginTop: 20\n                    },\n                    credits: {\n                        enabled: false\n                    },\n                    title: {\n                        text: null\n                    },\n                    colors: ['#333333'],\n                    xAxis: {\n                        endOnTick: true,\n                        showLastLabel: false,\n                        title: {\n                            text: 'Date',\n                            offset: 30\n                        },\n                        type: 'datetime',\n                        dateTimeLabelFormats: {\n                            day: '%e %b \\'%y',\n                            week: '%e %b \\'%y',\n                            month: '%e %b \\'%y',\n                            year: '%e %b \\'%y',\n                        },\n                        labels: {\n                            rotation: 0,\n                            y: 20\n                        },\n                        tickWidth: 0\n                    },\n                    yAxis: {\n                        type: 'logarithmic',\n                        showFirstLabel: false,\n                        tickPositioner: function (min, max) {\n                            min;\n                            max;\n                            var ticks = [1, 10, 100, 1000, 10000],\n                                i = ticks.length;\n\n                            while (i--)\n                                ticks[i] = this.val2lin(ticks[i]);\n\n                            return ticks;\n                        },\n                        labels: {\n                            formatter: function () {\n                                return this.value < 10 ? 1 : this.value;\n                            },\n                            style: {\n                                \"color\": \"#FFFFFF\"\n                            }\n                        },\n                        gridLineWidth: 0,\n                        lineWidth: 1,\n                        title: {\n                            text: 'Bacteria per 100 mL',\n                            margin: 0\n                        },\n                        plotBands: [\n                            {\n                                color: '#96ca2d',\n                                from: this.$store.state.advisory_limits.low.minimum,\n                                to: this.$store.state.advisory_limits.hi.minimum\n                            },\n                            {\n                                color: '#DB1A0F',\n                                from: this.$store.state.advisory_limits.hi.minimum,\n                                to: 10000\n                            }\n                        ]\n                    },\n                    tooltip: {\n                        formatter: function () {\n                            return '<strong>Date:</strong> ' + Highcharts.dateFormat('%e %B %Y', this.x) + '<br /><strong>Bacteria level:</strong> ' + Math.round(this.y);\n                        }\n                    },\n                    legend: {\n                        enabled: false\n                    },\n                    series: [{\n                        name: 'Station',\n                        data: []\n                    }]\n\n                },\n                pie_chart_options:\n                    {\n                      chart: {\n                        plotBackgroundColor: null,\n                        plotBorderWidth: null,\n                        plotShadow: false,\n                        type: 'pie'\n                      },\n                      title: {\n                        text: null,\n                      },\n                      /*tooltip: {\n                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n                      },*/\n                      /*accessibility: {\n                        point: {\n                          valueSuffix: '%'\n                        }\n                      },*/\n                      plotOptions: {\n                        pie: {\n                          allowPointSelect: true,\n                          cursor: 'pointer',\n                          dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b>: {point.y}'\n                          }\n                        }\n                      },\n                      series: [{\n                        name: 'Sample Counts',\n                        colorByPoint: true,\n                        data: []\n                      }]\n                    }\n            }\n        },\n        mounted() {\n            console.debug(\"StationGraph mounted.\");\n\n            //We aren't passing the props in the vue route path, so we check the params to then set the properties.\n            if('params' in this.$route) {\n                if('site_id' in this.$route.params)\n                {\n                    this.site_id = this.$route.params.site_id;\n                }\n                if('site_name' in this.$route.params)\n                {\n                    this.site_name = this.$route.params.site_name;\n                }\n                /*\n                if('graph_data' in this.$route.params)\n                {\n                    this.graph_data = this.$route.params.graph_data;\n                }\n                */\n            }\n\n            //We pull the last 60 days worth of data to show.\n            this.scatter_chart_ref = this.$refs.station_scatter_graph;\n            this.pie_chart_ref = this.$refs.station_pie_chart;\n            this.pastData(60);\n        },\n        methods: {\n            daysButtonClick(button_clicked, days) {\n                this.activeBtn = days;  //We use this to toggle the active class on the button.≠≠\n                this.pastData(days);\n            },\n            chartTypesButtonClick(button_clicked, chart_type) {\n                console.debug(\"chartTypesButtonClick called, chart type: \" + chart_type);\n                this.chartType = chart_type;\n                if(chart_type === 'scatter') {\n                  if(this.scatter_chart_ref === undefined) {\n                    this.scatter_chart_ref = this.$refs.station_scatter_graph;\n                    this.scatter_chart_ref.chart.xAxis[0].setExtremes(moment.utc().subtract(this.activeBtn, \"days\").valueOf(), moment.utc().valueOf());\n                  }\n                }\n                else\n                {\n                  if(this.$refs.station_pie_chart == undefined) {\n                    this.pie_chart_ref = this.$refs.station_pie_chart;\n                  }\n                }\n            },\n            pastData(days_back) {\n                console.debug(\"Retrieving: \" + days_back + \" days of data.\")\n                let vm=this;\n                let location_site_name = this.$store.state.site_name;\n                let start_date = moment().subtract(days_back, 'days').format(\"YYYY-MM-DD 00:00:00\");\n                let end_date = moment.utc().format(\"YYYY-MM-DD HH:mm:ss\");\n                //this.graph_data = [];\n                this.pie_chart_data = [];\n                this.scatter_plot_data = [];\n                DataAPI.GetSiteData(location_site_name, this.site_id, start_date, end_date)\n                    .then(response => {\n                        vm.feature_data = response.data;\n                        let site_type = vm.feature_data.properties.site_type;\n                        if (site_type in vm.feature_data.properties) {\n                            vm.feature_data.properties[site_type].advisory.results.forEach(function (rec) {\n                                let date_val = moment(rec.date);\n                                vm.scatter_plot_data.push([date_val.valueOf(), rec.value]);\n                            });\n                            if(vm.scatter_chart_ref !== undefined) {\n                              vm.scatter_chart_ref.chart.xAxis[0].setExtremes(moment.utc().subtract(days_back, \"days\").valueOf(), moment.utc().valueOf());\n                            }\n                            vm.calcStats(vm, vm.scatter_plot_data);\n                        }\n                    })\n                    .catch(error => console.error(error));\n\n            },\n            calcStats(vm, data_array) {\n              console.debug(\"calcStats called.\");\n              vm.records_above_max_threshold = 0;\n              vm.total_records = 0;\n              if(data_array.length) {\n                data_array.forEach(function (rec) {\n                  if (rec[1] >= vm.$store.state.advisory_limits.hi.minimum) {\n                    vm.records_above_max_threshold += 1;\n                  }\n                });\n                vm.total_records = data_array.length;\n                vm.pie_chart_data = [\n                  {\n                    name: 'Sample Count',\n                    y: vm.total_records,\n                    color: 'grey'\n                  },\n                  {\n                    name: 'Samples Above Limit',\n                    y: vm.records_above_max_threshold,\n                    color: 'red'\n                  }\n                ]\n                vm.percentage_exceeds = parseInt((vm.records_above_max_threshold / vm.total_records) * 100.0);\n                //let median_val = 0;\n                //let vals = data_array.map(function (x) {\n                //  return x[1]\n                //})\n                //median_val = mean(vals);\n                console.debug(\"Total Samples: \" + vm.total_records + \"Bad Samples: \" + vm.records_above_max_threshold);\n              }\n            },\n            onClose() {\n                console.debug(\"onClose modal_graph_closed event emitted.\");\n                this.$emit(\"modal_graph_closed\");\n            }\n        },\n        computed: {\n          chartType: {\n            get: function() {\n              return this.chartTypeBtn;\n            },\n            set: function(chart_type) {\n              this.chartTypeBtn = chart_type;\n            }\n          }\n          /*\n          graph_data: {\n            get: function() {\n              console.debug(\"graph_data computed called.\")\n              return(this.chart_data);\n            },\n            set: function(scatter_plot_data, pie_chart_data) {\n              if(this.chartTypeBtn == 'scatter') {\n                this.chart_data = scatter_plot_data;\n              }\n              else {\n                this.chart_data = pie_chart_data;\n              }\n\n            }\n          },\n          chart_options: function() {\n            console.debug(\"chart_options computed called.\")\n            if(this.chartTypeBtn == 'scatter') {\n              return this.scatter_chart_options;\n            }\n            else {\n              return this.pie_chart_options;\n            }\n          }\n          */\n        }\n\n    }\n</script>\n<style scoped>\n    .full-graph {\n        width: 100%;\n        height: 100%;\n    }\n    .data-graph {\n        background-color: rgba(0, 61, 126, .85);\n        color: #FFFFFF\n    }\n\n</style>\n"],"sourceRoot":"src/components"}]}